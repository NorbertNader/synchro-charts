(this["webpackJsonpmonitor-components-doc-site"]=this["webpackJsonpmonitor-components-doc-site"]||[]).push([[17],{110:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return m}));var r=n(92),a=n(93),i=function(t,e){return Math.abs(t(new Date(e).getTime())-t(new Date(0).getTime()))},o=function(t){var e=t.toClipSpace,n=t.resolution,r=t.numDataStreams;return(i(e,n)-function(t,e){return i(t,e*(1/6))}(e,n))/r},c=function(t,e){if(0===t.length)return 0;var n=t[0].resolution;return o({toClipSpace:e,numDataStreams:t.length,resolution:n})},u=function(t){var e=t.dataStreams,n=t.dataStreamInfo,a=t.mesh,i=t.toClipSpace,o=e.map((function(t){var e=n.find((function(e){var n=e.id;return t.id===n}));if(null==e)throw new Error("data streams must have an associated data stream info.\n         missing the data stream info for data stream id: "+t.id);return Object(r.p)(t,e)}));a.count=function(t){return t.reduce((function(t,e){return t+Math.max(e.length,0)}),0)}(o);var u=a.geometry.attributes,s=u.color,f=u.bar,d=0,m=0;o.forEach((function(t,n){t.forEach((function(t){var r=t[0],a=t[1],o=t[2],u=t[3],h=t[4];f.array[d]=i(r)-n*c(e,i),f.array[d+1]=a,s.array[m]=o,s.array[m+1]=u,s.array[m+2]=h,m+=3,d+=2}))})),f.needsUpdate=!0,s.needsUpdate=!0},s=[0,0,0,1,1,0,0,1,1,0,1,1],f=function(t){var e=t.dataStreams,n=t.dataStreamInfo,a=t.toClipSpace,i=t.bufferFactor,o=t.minBufferSize,f=new r.c,d=Math.max(o,Object(r.o)(e)*i);!function(t,e){t.setAttribute("position",new r.h(new Float32Array(s),2)),t.setAttribute("bar",new r.j(new Float32Array(2*e),2,!1)),t.setAttribute("color",new r.j(new Uint8Array(3*e),3,!0))}(f,d);var m=new r.e({vertexShader:"\nprecision highp float;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float width;\nattribute vec2 bar;\nattribute vec2 position;\nattribute vec3 color;\nvarying vec3 vColor;\n\nvoid main() {\n  // Negative width here because we want to render the bars' width to the left side starting from its x position.\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position.x * -width + bar.x, position.y * bar.y, 0.0, 1.0);\n  vColor = color;\n}\n",fragmentShader:"\nprecision highp float;\nvarying vec3 vColor;\n\nvoid main() {\n  gl_FragColor = vec4(vColor, 1.0);\n}\n",side:r.b,transparent:!1,uniforms:{width:{value:c(e,a)}}}),h=new r.i(f,m,d);return u({dataStreams:e,dataStreamInfo:n,mesh:h,toClipSpace:a}),h.frustumCulled=!1,h},d=function(t){var e=t.dataStreams,n=t.dataStreamInfo,i=t.container,o=t.viewPort,c=t.bufferFactor,u=t.minBufferSize,s=new r.l,d=Object(a.a)(o);return s.add(f({dataStreams:e,dataStreamInfo:n,toClipSpace:d,bufferFactor:c,minBufferSize:u})),Object(r.k)({scene:s,viewPort:o,container:i,toClipSpace:d})},m=function(t){var e=t.scene,n=t.dataStreams,i=t.dataStreamInfo,o=t.hasDataChanged,s=t.minBufferSize,f=t.bufferFactor,m=t.viewPort,h=t.container,l=t.chartSize,g=e.scene.children[0];return function(t){return t.geometry.attributes.bar.array.length/2}(g)<Object(r.o)(n)||Object(a.b)(m,e.toClipSpace)?d({dataStreams:n,dataStreamInfo:i,container:h,viewPort:m,minBufferSize:s,bufferFactor:f,chartSize:l,thresholds:[]}):(function(t){var e=t.bars,n=t.dataStreams,r=t.dataStreamInfo,a=t.toClipSpace;t.hasDataChanged&&(e.material.uniforms.width.value=c(n,a),u({dataStreams:n,dataStreamInfo:r,mesh:e,toClipSpace:a}))}({bars:g,dataStreams:n,dataStreamInfo:i,toClipSpace:e.toClipSpace,hasDataChanged:o}),e)}},35:function(t,e,n){"use strict";n.r(e),n.d(e,"monitor_bar_chart",(function(){return o}));var r=n(2),a=(n(94),n(88),n(89),n(95),n(90)),i=(n(92),n(100),n(98),n(101),n(93),n(110)),o=function(){function t(t){Object(r.i)(this,t),this.isEditing=!1,this.isLoading=!1,this.isFetching=!1,this.errorMap={},this.bufferFactor=2,this.minBufferSize=1e3}return t.prototype.render=function(){var t=this;return Object(r.h)("monitor-size-provider",{size:this.config.size,renderFunc:function(e){return Object(r.h)("monitor-viewport-provider",{dataStreams:t.data,config:t.config,preferStartFromZero:!0,renderFunc:function(n){return Object(r.h)("monitor-webgl-base-chart",{configId:t.config.id,legend:t.config.legend,annotations:t.annotations,updateChartScene:i.b,createChartScene:i.a,dataStreamInfo:t.config.dataStreamInfo,errorMap:t.errorMap,size:Object.assign(Object.assign(Object.assign({},a.a.size),t.config.size),e),data:t.data,viewPort:Object.assign(Object.assign({},t.config.viewPort),n),minBufferSize:t.minBufferSize,bufferFactor:t.bufferFactor,isEditing:t.isEditing,isFetching:t.isFetching,isLoading:t.isLoading})}})}})},t}()},88:function(t,e,n){"use strict";var r,a;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),function(t){t.TimeSeries="time-series",t.Log="log",t.Linear="linear"}(r||(r={})),function(t){t.RIGHT="RIGHT",t.BOTTOM="BOTTOM"}(a||(a={}))},89:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return f}));var r=1e3,a=60*r,i=60*a,o=24*i,c=30*o,u=12*c,s=function(t){if(t<0)throw new Error("Time cannot be negative!");var e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60);return{day:Math.floor(r/24),hour:r%=24,minute:n%=60,seconds:e%=60}},f=function(t,e,n){var r=n.start,c=n.end;if(e<o){var u=c.getTime()-r.getTime();return u<a?t.toLocaleString("en-US",{minute:"numeric",second:"numeric"}):u<10*a?t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}):t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})}return e<=i?t.toLocaleString("en-US",{hour:"numeric",day:"long",hour12:!0}):e<=o?t.toLocaleString("en-US",{day:"numeric",month:"long"}):t.toLocaleString("en-US",{year:"numeric",month:"long"})}},90:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(88),a={id:"fake-id",viewPort:{start:new Date(1995,0,0,0),end:new Date(2020,1,0,0),yMin:0,yMax:1e4},size:{width:475,height:350,marginLeft:50,marginRight:50,marginTop:8,marginBottom:30},movement:{enableXScroll:!0,enableYScroll:!1,zoomMax:1/0,zoomMin:1e-5},layout:{xGridVisible:!1,yGridVisible:!0,xTicksVisible:!0,yTicksVisible:!0},scale:{xScaleType:r.b.TimeSeries,yScaleType:r.b.Linear,xScaleSide:"bottom",yScaleSide:"left"},dataStreamInfo:[],legend:{position:r.a.BOTTOM,width:180}}},93:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r=n(89),a=function(t){var e=t.end.getTime()-t.start.getTime(),n=t.start.getTime()-.25*e,a=function(t){return t<10*r.c?1:t<r.a?r.d/10:t<7*r.a?r.d:t<r.e?r.c:t<30*r.e?30*r.c:r.a}(e);return function(t){return Math.floor((t-n)/a)}},i=function(t,e){return Math.abs(e(t.getTime()))>=Math.pow(10,7)},o=function(t,e){var n=i(t.start,e)||i(t.end,e),r=t.end.getTime()-t.start.getTime(),a=e(t.end.getTime())-e(t.start.getTime());return n||r>a&&a<3e3}}}]);
//# sourceMappingURL=stencil-monitor-bar-chart-entry-js.059323d2.chunk.js.map