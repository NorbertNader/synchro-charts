(this["webpackJsonpmonitor-components-doc-site"]=this["webpackJsonpmonitor-components-doc-site"]||[]).push([[30],{102:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={width:100,height:100}},110:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return l}));var r=n(92),a=n(93),i=function(t,e){return Math.abs(t(new Date(e).getTime())-t(new Date(0).getTime()))},o=function(t){var e=t.toClipSpace,n=t.resolution,r=t.numDataStreams;return(i(e,n)-function(t,e){return i(t,e*(1/6))}(e,n))/r},c=function(t,e){if(0===t.length)return 0;var n=t[0].resolution;return o({toClipSpace:e,numDataStreams:t.length,resolution:n})},u=function(t){var e=t.dataStreams,n=t.dataStreamInfo,a=t.mesh,i=t.toClipSpace,o=e.map((function(t){var e=n.find((function(e){var n=e.id;return t.id===n}));if(null==e)throw new Error("data streams must have an associated data stream info.\n         missing the data stream info for data stream id: "+t.id);return Object(r.p)(t,e)}));a.count=function(t){return t.reduce((function(t,e){return t+Math.max(e.length,0)}),0)}(o);var u=a.geometry.attributes,s=u.color,d=u.bar,f=0,l=0;o.forEach((function(t,n){t.forEach((function(t){var r=t[0],a=t[1],o=t[2],u=t[3],m=t[4];d.array[f]=i(r)-n*c(e,i),d.array[f+1]=a,s.array[l]=o,s.array[l+1]=u,s.array[l+2]=m,l+=3,f+=2}))})),d.needsUpdate=!0,s.needsUpdate=!0},s=[0,0,0,1,1,0,0,1,1,0,1,1],d=function(t){var e=t.dataStreams,n=t.dataStreamInfo,a=t.toClipSpace,i=t.bufferFactor,o=t.minBufferSize,d=new r.c,f=Math.max(o,Object(r.o)(e)*i);!function(t,e){t.setAttribute("position",new r.h(new Float32Array(s),2)),t.setAttribute("bar",new r.j(new Float32Array(2*e),2,!1)),t.setAttribute("color",new r.j(new Uint8Array(3*e),3,!0))}(d,f);var l=new r.e({vertexShader:"\nprecision highp float;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float width;\nattribute vec2 bar;\nattribute vec2 position;\nattribute vec3 color;\nvarying vec3 vColor;\n\nvoid main() {\n  // Negative width here because we want to render the bars' width to the left side starting from its x position.\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position.x * -width + bar.x, position.y * bar.y, 0.0, 1.0);\n  vColor = color;\n}\n",fragmentShader:"\nprecision highp float;\nvarying vec3 vColor;\n\nvoid main() {\n  gl_FragColor = vec4(vColor, 1.0);\n}\n",side:r.b,transparent:!1,uniforms:{width:{value:c(e,a)}}}),m=new r.i(d,l,f);return u({dataStreams:e,dataStreamInfo:n,mesh:m,toClipSpace:a}),m.frustumCulled=!1,m},f=function(t){var e=t.dataStreams,n=t.dataStreamInfo,i=t.container,o=t.viewPort,c=t.bufferFactor,u=t.minBufferSize,s=new r.l,f=Object(a.a)(o);return s.add(d({dataStreams:e,dataStreamInfo:n,toClipSpace:f,bufferFactor:c,minBufferSize:u})),Object(r.k)({scene:s,viewPort:o,container:i,toClipSpace:f})},l=function(t){var e=t.scene,n=t.dataStreams,i=t.dataStreamInfo,o=t.hasDataChanged,s=t.minBufferSize,d=t.bufferFactor,l=t.viewPort,m=t.container,h=t.chartSize,p=e.scene.children[0];return function(t){return t.geometry.attributes.bar.array.length/2}(p)<Object(r.o)(n)||Object(a.b)(l,e.toClipSpace)?f({dataStreams:n,dataStreamInfo:i,container:m,viewPort:l,minBufferSize:s,bufferFactor:d,chartSize:h,thresholds:[]}):(function(t){var e=t.bars,n=t.dataStreams,r=t.dataStreamInfo,a=t.toClipSpace;t.hasDataChanged&&(e.material.uniforms.width.value=c(n,a),u({dataStreams:n,dataStreamInfo:r,mesh:e,toClipSpace:a}))}({bars:p,dataStreams:n,dataStreamInfo:i,toClipSpace:e.toClipSpace,hasDataChanged:o}),e)}},50:function(t,e,n){"use strict";n.r(e),n.d(e,"monitor_multiple_bars",(function(){return m}));var r=n(2),a=(n(94),n(89)),i=(n(95),n(92),n(99)),o=(n(100),n(98),n(101),n(93),n(102)),c=n(110),u=new Date(2e3,0,0),s=new Date(2e3,0,1),d=s.getTime()-u.getTime(),f={x:new Date(u.getTime()+d/3),y:25},l={x:new Date(u.getTime()+d*(2/3)),y:50},m=function(){function t(t){Object(r.i)(this,t)}return t.prototype.componentDidLoad=function(){var t=this.el.querySelector("#test-container"),e=Object(c.a)({viewPort:{start:u,end:s,yMin:0,yMax:100},dataStreams:[{id:"test-stream",data:[f],resolution:5*a.b},{id:"test-stream-2",data:[l],resolution:5*a.b}],dataStreamInfo:[{id:"test-stream",name:"test-stream-name",color:"black"},{id:"test-stream-2",name:"test-stream-name-2",color:"red"}],container:t,chartSize:o.a,minBufferSize:100,bufferFactor:2,thresholds:[]});i.b.addChartScene(e),i.b.setChartRect(e.id,t.getBoundingClientRect())},t.prototype.render=function(){return Object(r.h)("monitor-webgl-context",null,Object(r.h)("div",{id:"test-container",style:{width:o.a.width+"px",height:o.a.height+"px"}}))},Object.defineProperty(t.prototype,"el",{get:function(){return Object(r.g)(this)},enumerable:!0,configurable:!0}),t}()},89:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return d}));var r=1e3,a=60*r,i=60*a,o=24*i,c=30*o,u=12*c,s=function(t){if(t<0)throw new Error("Time cannot be negative!");var e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60);return{day:Math.floor(r/24),hour:r%=24,minute:n%=60,seconds:e%=60}},d=function(t,e,n){var r=n.start,c=n.end;if(e<o){var u=c.getTime()-r.getTime();return u<a?t.toLocaleString("en-US",{minute:"numeric",second:"numeric"}):u<10*a?t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}):t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})}return e<=i?t.toLocaleString("en-US",{hour:"numeric",day:"long",hour12:!0}):e<=o?t.toLocaleString("en-US",{day:"numeric",month:"long"}):t.toLocaleString("en-US",{year:"numeric",month:"long"})}},93:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r=n(89),a=function(t){var e=t.end.getTime()-t.start.getTime(),n=t.start.getTime()-.25*e,a=function(t){return t<10*r.c?1:t<r.a?r.d/10:t<7*r.a?r.d:t<r.e?r.c:t<30*r.e?30*r.c:r.a}(e);return function(t){return Math.floor((t-n)/a)}},i=function(t,e){return Math.abs(e(t.getTime()))>=Math.pow(10,7)},o=function(t,e){var n=i(t.start,e)||i(t.end,e),r=t.end.getTime()-t.start.getTime(),a=e(t.end.getTime())-e(t.start.getTime());return n||r>a&&a<3e3}},99:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r=n(92),a=function(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,left:e.left+window.scrollX,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY,top:e.top+window.scrollY,x:e.x+window.scrollX,y:e.y+window.scrollY}},i=function(){function t(t){this.rectMap={},this.canvas=t,this.updateCanvas()}return t.prototype.updateCanvas=function(){this.canvasRect=this.canvas.getBoundingClientRect()},t.prototype.updateChartScene=function(t,e){this.rectMap[t]=e},t.prototype.clipRect=function(t){return this.rectMap[t]?function(t,e){var n=window.devicePixelRatio,r=t.left,a=t.bottom,i=t.width,o=t.height,c=e.height-(a-window.scrollY);return{left:(r-window.scrollX)*n,bottom:c*n,width:i*n,height:o*n}}(this.rectMap[t],this.canvasRect):void 0},t.prototype.removeChartScene=function(t){delete this.rectMap[t]},t}();var o=function(){var t,e,n,a=[],o=function(e){var n=a.find((function(t){return t.id===e}));a=a.filter((function(t){return t.id!==e})),n&&n.dispose(),t.removeChartScene(e),c()},c=function(){e&&(e.setScissorTest(!1),e.clear(),e.setScissorTest(!0),a.forEach(d))},u=function(){if(e&&n){var r="translate("+window.scrollX+"px, "+window.scrollY+"px)";e.domElement.style.transform=r,t.updateCanvas(),c()}},s=function(){e&&n&&(!function(t){var e=t.domElement,n=Math.floor(e.clientWidth*window.devicePixelRatio)||0,r=Math.floor(e.clientHeight*window.devicePixelRatio)||0,a=e.width!==n||e.height!==r;a&&t.setSize(n,r,!1)}(e),t.updateCanvas(),c())},d=function(r){var a=t.clipRect(r.id);e&&n&&a&&function(t,e,n){var r=e.scene,a=e.camera,i=n.left,o=n.bottom,c=n.width,u=n.height;t.setScissor(i,o,c,u),t.setViewport(i,o,c,u),t.render(r,a)}(e,r,a)};return{initRendering:function(a){t=new i(a),n=a,(e=new r.g({canvas:n,alpha:!0,antialias:!0,preserveDrawingBuffer:!0})).setScissorTest(!0),e.setClearColor(0,0),u(),s(),window.addEventListener("scroll",u),window.addEventListener("resize",s)},dispose:function(){e&&(a.map((function(t){return t.id})).forEach(o),e.dispose()),window.removeEventListener("scroll",u),window.removeEventListener("resize",s)},render:d,addChartScene:function(t){a.push(t)},removeChartScene:o,setChartRect:function(e,n){t.updateChartScene(e,n),c()},syncCameras:function(t,e){a.forEach((function(n){n.updateViewPort(t,e),d(n)}))}}}()}}]);
//# sourceMappingURL=stencil-monitor-multiple-bars-entry-js.db18f01e.chunk.js.map