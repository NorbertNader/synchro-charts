{"version":3,"sources":["../node_modules/@amzn/bp-components/dist/esm-es5/active-router-fe934466.js","../node_modules/@amzn/bp-components/dist/esm-es5/dom-utils-96bcc231.js","../node_modules/@amzn/bp-components/dist/esm-es5/bp-app_4.entry.js"],"names":["__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","ActiveRouter","defaultState","consumerRender","listeners","Map","currentState","updateListener","fields","instance","isArray","forEach","fieldName","Object","assign","subscribe","propList","has","set","delete","Provider","_a","children","state","Consumer","props","injectProps","Cstr","fieldList","CstrPrototype","prototype","cstrConnectedCallback","connectedCallback","cstrDisconnectedCallback","disconnectedCallback","this","call","createProviderConsumer","historyType","location","pathname","query","key","titleSuffix","root","routeViewsUpdated","child","h","renderer","PATH_REGEXP","RegExp","join","escapeString","str","replace","escapeGroup","group","flags","options","sensitive","arrayToRegexp","path","keys","parts","push","pathToRegexp","source","stringToRegexp","tokensToRegExp","res","tokens","index","defaultDelimiter","delimiter","delimiters","pathEscaped","exec","m","escaped","offset","slice","prev","next","name","capture","modifier","indexOf","partial","undefined","repeat","optional","pattern","prefix","substr","parse","strict","end","endsWith","concat","map","route","isEndDelimited","token","groups","match","regexpToRegexp","hasBasename","test","stripBasename","stripTrailingSlash","charAt","addLeadingSlash","stripLeadingSlash","createPath","search","hash","isAbsolute","createKey","keyLength","Math","random","toString","spliceOne","list","n","pop","valueEqual","b","every","item","aType","aValue","valueOf","bValue","aKeys","bKeys","locationsAreEqual","createLocation","currentLocation","hashIndex","searchIndex","parsePath","decodeURI","e","URIError","to","from","hasTrailingSlash","fromParts","split","up","toParts","isToAbs","isFromAbs","mustEndAbs","last","part","unshift","result","resolvePathname","reduce","params","param","value","decodeURIComponent","cacheCount","patternCache","matchPath","_b","exact","_c","_d","cacheKey","cache","cachePattern","JSON","stringify","compiledPattern","re","compilePath","url","values","isExact","memo","matchesAreEqual","getConfirmation","win","message","callback","confirm","isModifiedEvent","ev","metaKey","altKey","ctrlKey","shiftKey","supportsHistory","ua","navigator","userAgent","history","supportsPopStateOnHashChange","nav","supportsGoWithoutReloadUsingHash","isExtraneousPopstateEvent","event","storageAvailable","type","storage","x","setItem","removeItem","DOMException","code","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","routes","component","App","hostRef","registerInstance","render","scrollTopOffset","Route","class_1","componentProps","scrollOnNextRender","previousMatch","computeMatch","newLocation","isGrouped","el","parentElement","tagName","toLowerCase","loadCompleted","routeViewOptions","scrollToId","componentUpdated","componentDidUpdate","componentDidLoad","childProps","routeRender","ChildComponent","defineProperty","get","getElement","enumerable","configurable","style","isHTMLStencilRouteElement","elm","RouteSwitch","class_2","subscribers","queue","getContext","componentWillLoad","regenerateSubscribers","newActiveIndex","activeChild","_this","filter","childElement","activeIndex","routeViewUpdatedOptions","write","display","warning","args","_i","console","warn","createTransitionManager","prompt","setPrompt","nextPrompt","confirmTransitionTo","action","getUserConfirmation","appendListener","fn","isActive","listener","notifyListeners","createScrollHistory","applicationScrollKey","scrollPositions","arrayData_1","sessionStorage","scrollData","getItem","scrollRestoration","scrollX","scrollY","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","getLocation","HISTORIES","forceNextPop","globalHistory","globalLocation","globalNavigator","canUseHistory","needsHashChangeListener","scrollHistory","forceRefresh","basename","getHistoryState","getDOMLocation","historyState","transitionManager","setState","nextState","scrollPosition","handlePopState","handlePop","handleHashChange","ok","revertPop","fromLocation","toLocation","toIndex","allKeys","fromIndex","delta","go","initialLocation","listenerCount","isBlocked","createHref","checkDOMListeners","addEventListener","removeEventListener","href","pushState","prevIndex","nextKeys","replaceState","goBack","goForward","block","unblock","listen","unlisten","ignorePath","canGoWithoutReload","hashType","getHashPath","substring","replaceHashPath","encodedPath","prevLocation","allPaths","lastIndexOf","pushHashPath","nextPaths","Router","document","getElementById","scrollIntoView","scrollTo","isServer","ownerDocument","defaultView","scrollToLocation"],"mappings":"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","file":"static/js/75.cbf0fd64.chunk.js","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { h } from './index-326b73e4.js';\nvar createProviderConsumer = function (defaultState, consumerRender) {\n    var listeners = new Map();\n    var currentState = defaultState;\n    var updateListener = function (fields, instance) {\n        if (Array.isArray(fields)) {\n            __spreadArrays(fields).forEach(function (fieldName) {\n                instance[fieldName] = currentState[fieldName];\n            });\n        }\n        else {\n            instance[fields] = Object.assign({}, currentState);\n        }\n    };\n    var subscribe = function (instance, propList) {\n        if (!listeners.has(instance)) {\n            listeners.set(instance, propList);\n            updateListener(propList, instance);\n        }\n        return function () {\n            if (listeners.has(instance)) {\n                listeners.delete(instance);\n            }\n        };\n    };\n    var Provider = function (_a, children) {\n        var state = _a.state;\n        currentState = state;\n        listeners.forEach(updateListener);\n        return children;\n    };\n    var Consumer = function (props, children) {\n        // The casting on subscribe is to allow for crossover through the stencil compiler\n        // In the future we should allow for generics in components.\n        return consumerRender(subscribe, children[0]);\n    };\n    var injectProps = function (Cstr, fieldList) {\n        var CstrPrototype = Cstr.prototype;\n        var cstrConnectedCallback = CstrPrototype.connectedCallback;\n        var cstrDisconnectedCallback = CstrPrototype.disconnectedCallback;\n        CstrPrototype.connectedCallback = function () {\n            subscribe(this, fieldList);\n            if (cstrConnectedCallback) {\n                return cstrConnectedCallback.call(this);\n            }\n        };\n        CstrPrototype.disconnectedCallback = function () {\n            listeners.delete(this);\n            if (cstrDisconnectedCallback) {\n                cstrDisconnectedCallback.call(this);\n            }\n        };\n    };\n    return {\n        Provider: Provider,\n        Consumer: Consumer,\n        injectProps: injectProps\n    };\n};\nvar ActiveRouter = createProviderConsumer({\n    historyType: 'browser',\n    location: {\n        pathname: '',\n        query: {},\n        key: ''\n    },\n    titleSuffix: '',\n    root: '/',\n    routeViewsUpdated: function () { }\n}, function (subscribe, child) { return (h(\"context-consumer\", { subscribe: subscribe, renderer: child })); });\nexport { ActiveRouter as A };\n","/**\n * TS adaption of https://github.com/pillarjs/path-to-regexp/blob/master/index.js\n */\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/';\nvar DEFAULT_DELIMITERS = './';\n/**\n * The main path matching regexp utility.\n */\nvar PATH_REGEXP = new RegExp([\n    // Match escaped characters that would otherwise appear in future matches.\n    // This allows the user to escape special characters that won't transform.\n    '(\\\\\\\\.)',\n    // Match Express-style parameters and un-named parameters with a prefix\n    // and optional suffixes. Matches appear as:\n    //\n    // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\"]\n    // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined]\n    '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g');\n/**\n * Parse a string for the raw tokens.\n */\nvar parse = function (str, options) {\n    var tokens = [];\n    var key = 0;\n    var index = 0;\n    var path = '';\n    var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER;\n    var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS;\n    var pathEscaped = false;\n    var res;\n    while ((res = PATH_REGEXP.exec(str)) !== null) {\n        var m = res[0];\n        var escaped = res[1];\n        var offset = res.index;\n        path += str.slice(index, offset);\n        index = offset + m.length;\n        // Ignore already escaped sequences.\n        if (escaped) {\n            path += escaped[1];\n            pathEscaped = true;\n            continue;\n        }\n        var prev = '';\n        var next = str[index];\n        var name = res[2];\n        var capture = res[3];\n        var group = res[4];\n        var modifier = res[5];\n        if (!pathEscaped && path.length) {\n            var k = path.length - 1;\n            if (delimiters.indexOf(path[k]) > -1) {\n                prev = path[k];\n                path = path.slice(0, k);\n            }\n        }\n        // Push the current path onto the tokens.\n        if (path) {\n            tokens.push(path);\n            path = '';\n            pathEscaped = false;\n        }\n        var partial = prev !== '' && next !== undefined && next !== prev;\n        var repeat = modifier === '+' || modifier === '*';\n        var optional = modifier === '?' || modifier === '*';\n        var delimiter = prev || defaultDelimiter;\n        var pattern = capture || group;\n        tokens.push({\n            name: name || key++,\n            prefix: prev,\n            delimiter: delimiter,\n            optional: optional,\n            repeat: repeat,\n            partial: partial,\n            pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n        });\n    }\n    // Push any remaining characters.\n    if (path || index < str.length) {\n        tokens.push(path + str.substr(index));\n    }\n    return tokens;\n};\n/**\n * Escape a regular expression string.\n */\nvar escapeString = function (str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1');\n};\n/**\n * Escape the capturing group by escaping special characters and meaning.\n */\nvar escapeGroup = function (group) {\n    return group.replace(/([=!:$/()])/g, '\\\\$1');\n};\n/**\n * Get the flags for a regexp from the options.\n */\nvar flags = function (options) {\n    return options && options.sensitive ? '' : 'i';\n};\n/**\n * Pull out keys from a regexp.\n */\nvar regexpToRegexp = function (path, keys) {\n    if (!keys)\n        return path;\n    // Use a negative lookahead to match only capturing groups.\n    var groups = path.source.match(/\\((?!\\?)/g);\n    if (groups) {\n        for (var i = 0; i < groups.length; i++) {\n            keys.push({\n                name: i,\n                prefix: null,\n                delimiter: null,\n                optional: false,\n                repeat: false,\n                partial: false,\n                pattern: null\n            });\n        }\n    }\n    return path;\n};\n/**\n * Transform an array into a regexp.\n */\nvar arrayToRegexp = function (path, keys, options) {\n    var parts = [];\n    for (var i = 0; i < path.length; i++) {\n        parts.push(pathToRegexp(path[i], keys, options).source);\n    }\n    return new RegExp('(?:' + parts.join('|') + ')', flags(options));\n};\n/**\n * Create a path regexp from string input.\n */\nvar stringToRegexp = function (path, keys, options) {\n    return tokensToRegExp(parse(path, options), keys, options);\n};\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nvar tokensToRegExp = function (tokens, keys, options) {\n    options = options || {};\n    var strict = options.strict;\n    var end = options.end !== false;\n    var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER);\n    var delimiters = options.delimiters || DEFAULT_DELIMITERS;\n    var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|');\n    var route = '';\n    var isEndDelimited = false;\n    // Iterate over the tokens and create our regexp string.\n    for (var i = 0; i < tokens.length; i++) {\n        var token = tokens[i];\n        if (typeof token === 'string') {\n            route += escapeString(token);\n            isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1;\n        }\n        else {\n            var prefix = escapeString(token.prefix || '');\n            var capture = token.repeat\n                ? '(?:' + token.pattern + ')(?:' + prefix + '(?:' + token.pattern + '))*'\n                : token.pattern;\n            if (keys)\n                keys.push(token);\n            if (token.optional) {\n                if (token.partial) {\n                    route += prefix + '(' + capture + ')?';\n                }\n                else {\n                    route += '(?:' + prefix + '(' + capture + '))?';\n                }\n            }\n            else {\n                route += prefix + '(' + capture + ')';\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += '(?:' + delimiter + ')?';\n        route += endsWith === '$' ? '$' : '(?=' + endsWith + ')';\n    }\n    else {\n        if (!strict)\n            route += '(?:' + delimiter + '(?=' + endsWith + '))?';\n        if (!isEndDelimited)\n            route += '(?=' + delimiter + '|' + endsWith + ')';\n    }\n    return new RegExp('^' + route, flags(options));\n};\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nvar pathToRegexp = function (path, keys, options) {\n    if (path instanceof RegExp) {\n        return regexpToRegexp(path, keys);\n    }\n    if (Array.isArray(path)) {\n        return arrayToRegexp(path, keys, options);\n    }\n    return stringToRegexp(path, keys, options);\n};\nvar hasBasename = function (path, prefix) {\n    return (new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i')).test(path);\n};\nvar stripBasename = function (path, prefix) {\n    return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n};\nvar stripTrailingSlash = function (path) {\n    return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n};\nvar addLeadingSlash = function (path) {\n    return path.charAt(0) === '/' ? path : '/' + path;\n};\nvar stripLeadingSlash = function (path) {\n    return path.charAt(0) === '/' ? path.substr(1) : path;\n};\nvar parsePath = function (path) {\n    var pathname = path || '/';\n    var search = '';\n    var hash = '';\n    var hashIndex = pathname.indexOf('#');\n    if (hashIndex !== -1) {\n        hash = pathname.substr(hashIndex);\n        pathname = pathname.substr(0, hashIndex);\n    }\n    var searchIndex = pathname.indexOf('?');\n    if (searchIndex !== -1) {\n        search = pathname.substr(searchIndex);\n        pathname = pathname.substr(0, searchIndex);\n    }\n    return {\n        pathname: pathname,\n        search: search === '?' ? '' : search,\n        hash: hash === '#' ? '' : hash,\n        query: {},\n        key: ''\n    };\n};\nvar createPath = function (location) {\n    var pathname = location.pathname, search = location.search, hash = location.hash;\n    var path = pathname || '/';\n    if (search && search !== '?') {\n        path += (search.charAt(0) === '?' ? search : \"?\" + search);\n    }\n    if (hash && hash !== '#') {\n        path += (hash.charAt(0) === '#' ? hash : \"#\" + hash);\n    }\n    return path;\n};\nvar parseQueryString = function (query) {\n    if (!query) {\n        return {};\n    }\n    return (/^[?#]/.test(query) ? query.slice(1) : query)\n        .split('&')\n        .reduce(function (params, param) {\n        var _a = param.split('='), key = _a[0], value = _a[1];\n        params[key] = value ? decodeURIComponent(value.replace(/\\+/g, ' ')) : '';\n        return params;\n    }, {});\n};\nvar isAbsolute = function (pathname) {\n    return pathname.charAt(0) === '/';\n};\nvar createKey = function (keyLength) {\n    return Math.random().toString(36).substr(2, keyLength);\n};\n// About 1.5x faster than the two-arg version of Array#splice()\nvar spliceOne = function (list, index) {\n    for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n        list[i] = list[k];\n    }\n    list.pop();\n};\n// This implementation is based heavily on node's url.parse\nvar resolvePathname = function (to, from) {\n    if (from === void 0) { from = ''; }\n    var fromParts = from && from.split('/') || [];\n    var hasTrailingSlash;\n    var up = 0;\n    var toParts = to && to.split('/') || [];\n    var isToAbs = to && isAbsolute(to);\n    var isFromAbs = from && isAbsolute(from);\n    var mustEndAbs = isToAbs || isFromAbs;\n    if (to && isAbsolute(to)) {\n        // to is absolute\n        fromParts = toParts;\n    }\n    else if (toParts.length) {\n        // to is relative, drop the filename\n        fromParts.pop();\n        fromParts = fromParts.concat(toParts);\n    }\n    if (!fromParts.length) {\n        return '/';\n    }\n    if (fromParts.length) {\n        var last = fromParts[fromParts.length - 1];\n        hasTrailingSlash = (last === '.' || last === '..' || last === '');\n    }\n    else {\n        hasTrailingSlash = false;\n    }\n    for (var i = fromParts.length; i >= 0; i--) {\n        var part = fromParts[i];\n        if (part === '.') {\n            spliceOne(fromParts, i);\n        }\n        else if (part === '..') {\n            spliceOne(fromParts, i);\n            up++;\n        }\n        else if (up) {\n            spliceOne(fromParts, i);\n            up--;\n        }\n    }\n    if (!mustEndAbs) {\n        for (; up--; up) {\n            fromParts.unshift('..');\n        }\n    }\n    if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) {\n        fromParts.unshift('');\n    }\n    var result = fromParts.join('/');\n    if (hasTrailingSlash && result.substr(-1) !== '/') {\n        result += '/';\n    }\n    return result;\n};\nvar valueEqual = function (a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (a == null || b == null) {\n        return false;\n    }\n    if (Array.isArray(a)) {\n        return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n            return valueEqual(item, b[index]);\n        });\n    }\n    var aType = typeof a;\n    var bType = typeof b;\n    if (aType !== bType) {\n        return false;\n    }\n    if (aType === 'object') {\n        var aValue = a.valueOf();\n        var bValue = b.valueOf();\n        if (aValue !== a || bValue !== b) {\n            return valueEqual(aValue, bValue);\n        }\n        var aKeys = Object.keys(a);\n        var bKeys = Object.keys(b);\n        if (aKeys.length !== bKeys.length) {\n            return false;\n        }\n        return aKeys.every(function (key) {\n            return valueEqual(a[key], b[key]);\n        });\n    }\n    return false;\n};\nvar locationsAreEqual = function (a, b) {\n    return a.pathname === b.pathname &&\n        a.search === b.search &&\n        a.hash === b.hash &&\n        a.key === b.key &&\n        valueEqual(a.state, b.state);\n};\nvar createLocation = function (path, state, key, currentLocation) {\n    var location;\n    if (typeof path === 'string') {\n        // Two-arg form: push(path, state)\n        location = parsePath(path);\n        if (state !== undefined) {\n            location.state = state;\n        }\n    }\n    else {\n        // One-arg form: push(location)\n        location = Object.assign({ pathname: '' }, path);\n        if (location.search && location.search.charAt(0) !== '?') {\n            location.search = '?' + location.search;\n        }\n        if (location.hash && location.hash.charAt(0) !== '#') {\n            location.hash = '#' + location.hash;\n        }\n        if (state !== undefined && location.state === undefined) {\n            location.state = state;\n        }\n    }\n    try {\n        location.pathname = decodeURI(location.pathname);\n    }\n    catch (e) {\n        if (e instanceof URIError) {\n            throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' +\n                'This is likely caused by an invalid percent-encoding.');\n        }\n        else {\n            throw e;\n        }\n    }\n    location.key = key;\n    if (currentLocation) {\n        // Resolve incomplete/relative pathname relative to current location.\n        if (!location.pathname) {\n            location.pathname = currentLocation.pathname;\n        }\n        else if (location.pathname.charAt(0) !== '/') {\n            location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n        }\n    }\n    else {\n        // When there is no prior location and pathname is empty, set it to /\n        if (!location.pathname) {\n            location.pathname = '/';\n        }\n    }\n    location.query = parseQueryString(location.search || '');\n    return location;\n};\nvar cacheCount = 0;\nvar patternCache = {};\nvar cacheLimit = 10000;\n// Memoized function for creating the path match regex\nvar compilePath = function (pattern, options) {\n    var cacheKey = \"\" + options.end + options.strict;\n    var cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});\n    var cachePattern = JSON.stringify(pattern);\n    if (cache[cachePattern]) {\n        return cache[cachePattern];\n    }\n    var keys = [];\n    var re = pathToRegexp(pattern, keys, options);\n    var compiledPattern = { re: re, keys: keys };\n    if (cacheCount < cacheLimit) {\n        cache[cachePattern] = compiledPattern;\n        cacheCount += 1;\n    }\n    return compiledPattern;\n};\n/**\n * Public API for matching a URL pathname to a path pattern.\n */\nvar matchPath = function (pathname, options) {\n    if (options === void 0) { options = {}; }\n    if (typeof options === 'string') {\n        options = { path: options };\n    }\n    var _a = options.path, path = _a === void 0 ? '/' : _a, _b = options.exact, exact = _b === void 0 ? false : _b, _c = options.strict, strict = _c === void 0 ? false : _c;\n    var _d = compilePath(path, { end: exact, strict: strict }), re = _d.re, keys = _d.keys;\n    var match = re.exec(pathname);\n    if (!match) {\n        return null;\n    }\n    var url = match[0], values = match.slice(1);\n    var isExact = pathname === url;\n    if (exact && !isExact) {\n        return null;\n    }\n    return {\n        path: path,\n        url: path === '/' && url === '' ? '/' : url,\n        isExact: isExact,\n        params: keys.reduce(function (memo, key, index) {\n            memo[key.name] = values[index];\n            return memo;\n        }, {})\n    };\n};\nvar matchesAreEqual = function (a, b) {\n    if (a == null && b == null) {\n        return true;\n    }\n    if (b == null) {\n        return false;\n    }\n    return a && b &&\n        a.path === b.path &&\n        a.url === b.url &&\n        valueEqual(a.params, b.params);\n};\nvar getConfirmation = function (win, message, callback) { return (callback(win.confirm(message))); };\nvar isModifiedEvent = function (ev) { return (ev.metaKey || ev.altKey || ev.ctrlKey || ev.shiftKey); };\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\nvar supportsHistory = function (win) {\n    var ua = win.navigator.userAgent;\n    if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) &&\n        ua.indexOf('Mobile Safari') !== -1 &&\n        ua.indexOf('Chrome') === -1 &&\n        ua.indexOf('Windows Phone') === -1) {\n        return false;\n    }\n    return win.history && 'pushState' in win.history;\n};\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\nvar supportsPopStateOnHashChange = function (nav) { return (nav.userAgent.indexOf('Trident') === -1); };\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\nvar supportsGoWithoutReloadUsingHash = function (nav) { return (nav.userAgent.indexOf('Firefox') === -1); };\nvar isExtraneousPopstateEvent = function (nav, event) { return (event.state === undefined &&\n    nav.userAgent.indexOf('CriOS') === -1); };\nvar storageAvailable = function (win, type) {\n    var storage = win[type];\n    var x = '__storage_test__';\n    try {\n        storage.setItem(x, x);\n        storage.removeItem(x);\n        return true;\n    }\n    catch (e) {\n        return e instanceof DOMException && (\n        // everything except Firefox\n        e.code === 22 ||\n            // Firefox\n            e.code === 1014 ||\n            // test name field too, because code might not be present\n            // everything except Firefox\n            e.name === 'QuotaExceededError' ||\n            // Firefox\n            e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n            // acknowledge QuotaExceededError only if there's something already stored\n            storage.length !== 0;\n    }\n};\nexport { matchesAreEqual as a, supportsHistory as b, supportsPopStateOnHashChange as c, stripTrailingSlash as d, addLeadingSlash as e, createLocation as f, createKey as g, hasBasename as h, stripBasename as i, createPath as j, getConfirmation as k, isExtraneousPopstateEvent as l, matchPath as m, supportsGoWithoutReloadUsingHash as n, stripLeadingSlash as o, locationsAreEqual as p, isModifiedEvent as q, storageAvailable as s };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as registerInstance, h, g as getElement, c as getContext } from './index-326b73e4.js';\nimport { m as matchPath, a as matchesAreEqual, s as storageAvailable, b as supportsHistory, c as supportsPopStateOnHashChange, d as stripTrailingSlash, e as addLeadingSlash, f as createLocation, g as createKey, h as hasBasename, i as stripBasename, j as createPath, k as getConfirmation, l as isExtraneousPopstateEvent, n as supportsGoWithoutReloadUsingHash, o as stripLeadingSlash, p as locationsAreEqual } from './dom-utils-96bcc231.js';\nimport { A as ActiveRouter } from './active-router-fe934466.js';\n/**\n * All test routes should follow the path structure of\n *\n * /test/{COMPONENT_NAME}/{TEST_ROUTE_COMPONENT_NAME}\n */\nvar routes = [\n    {\n        url: '/',\n        component: 'testing-ground',\n    },\n    {\n        url: '/tests/bp-asset-explorer/standard',\n        component: 'bp-asset-explorer-standard',\n    },\n    {\n        url: '/tests/bp-asset-explorer/error',\n        component: 'bp-asset-explorer-error',\n    },\n    {\n        url: '/tests/bp-asset-explorer/loading',\n        component: 'bp-asset-explorer-loading',\n    },\n    {\n        url: '/tests/bp-asset-explorer/empty',\n        component: 'bp-asset-explorer-empty',\n    },\n    {\n        url: '/tests/bp-asset-explorer/singleSelect',\n        component: 'bp-asset-explorer-single-select',\n    },\n    {\n        url: '/tests/bp-asset-explorer/multiSelect',\n        component: 'bp-asset-explorer-multi-select',\n    },\n    {\n        url: '/tests/bp-asset-explorer/huge',\n        component: 'bp-asset-explorer-huge',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/circle-point-shaders',\n        component: 'monitor-circle-point-shaders',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/angled-line-segment',\n        component: 'monitor-angled-line-segment',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/single-bar',\n        component: 'monitor-single-bar',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/multiple-bars',\n        component: 'monitor-multiple-bars',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/single-colored-bar',\n        component: 'monitor-single-colored-bar',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/straight-line-segment-colored',\n        component: 'monitor-straight-line-segment-colored',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/straight-line-segment',\n        component: 'monitor-straight-line-segment',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/line-chart-dynamic-data-streams',\n        component: 'monitor-webgl-line-chart-dynamic-data-streams',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/line-chart-dynamic-buffer',\n        component: 'monitor-webgl-line-chart-dynamic-buffer',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/line-chart-dynamic-data',\n        component: 'monitor-webgl-line-chart-dynamic-data',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/standard-with-legend',\n        component: 'monitor-webgl-chart-standard-with-legend',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/standard-with-legend-on-right',\n        component: 'monitor-webgl-chart-standard-with-legend-on-right',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/standard',\n        component: 'monitor-webgl-chart-standard',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/monitor-webgl-chart-large-viewport',\n        component: 'monitor-webgl-chart-large-viewport',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/multi',\n        component: 'monitor-webgl-chart-multi',\n    },\n    {\n        url: '/tests/monitor-webgl-scatter-chart/scatter-chart-dynamic-data',\n        component: 'monitor-webgl-scatter-chart-dynamic-data',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/colored-point',\n        component: 'monitor-line-chart-colored-point',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/multiple-lines',\n        component: 'monitor-multiple-lines',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/multiple-lines-overlapping',\n        component: 'monitor-multiple-lines-overlapping',\n    },\n    {\n        url: '/tests/bp-bar-chart/pos-neg',\n        component: 'bp-bar-chart-pos-neg',\n    },\n    {\n        url: '/tests/monitor-expandable-input/standard',\n        component: 'monitor-expandable-input-standard',\n    },\n    {\n        url: '/tests/bp-chart-legend-standard/standard',\n        component: 'bp-chart-legend-standard',\n    },\n    {\n        url: '/tests/monitor-sizer-provider/monitor-size-provider-standard',\n        component: 'monitor-size-provider-standard',\n    },\n    {\n        url: '/tests/monitor-webgl-bar-chart/standard',\n        component: 'monitor-webgl-bar-chart-standard',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/monitor-webgl-chart-dynamic-charts',\n        component: 'monitor-webgl-chart-dynamic-charts',\n    },\n    {\n        url: '/tests/monitor-webgl-bar-chart/bar-chart-dynamic-data-streams',\n        component: 'monitor-webgl-bar-chart-dynamic-data-streams',\n    },\n    {\n        url: '/tests/monitor-webgl-bar-chart/bar-chart-dynamic-data',\n        component: 'monitor-webgl-bar-chart-dynamic-data',\n    },\n    {\n        url: '/tests/monitor-webgl-bar-chart/bar-chart-fast-viewport',\n        component: 'monitor-webgl-bar-chart-fast-viewport',\n    },\n    {\n        url: '/tests/monitor-webgl-bar-chart/bar-chart-dynamic-buffer',\n        component: 'monitor-webgl-bar-chart-dynamic-buffer',\n    },\n    {\n        url: '/tests/monitor-webgl-bar-chart/negative',\n        component: 'monitor-webgl-bar-chart-negative',\n    },\n    {\n        url: '/tests/monitor-webgl-bar-chart/pos-neg',\n        component: 'monitor-webgl-bar-chart-positive-negative',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/performance/monitor-line-chart-stream-data',\n        component: 'monitor-line-chart-stream-data',\n    },\n    {\n        url: '/tests/monitor-lazily-load/monitor-lazily-load-standard',\n        component: 'monitor-lazily-load-standard',\n    },\n    {\n        url: '/tests/monitor-lazily-load/monitor-lazily-load-web-component',\n        component: 'monitor-lazily-load-web-component',\n    },\n    {\n        url: '/tests/monitor-webgl-bar-chart/margin',\n        component: 'monitor-webgl-bar-chart-margin',\n    },\n    {\n        url: '/tests/monitor-webgl-bar-chart/start-from-zero',\n        component: 'monitor-webgl-bar-chart-start-from-zero',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/annotations',\n        component: 'monitor-webgl-chart-annotations',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/annotations/always-in-viewport',\n        component: 'monitor-webgl-chart-annotations-always-in-viewport',\n    },\n    {\n        url: '/tests/monitor-webgl-chart/tooltip/multiple-data-streams',\n        component: 'monitor-webgl-chart-tooltip-with-multiple-data-streams',\n    },\n];\nvar App = /** @class */ (function () {\n    function App(hostRef) {\n        registerInstance(this, hostRef);\n    }\n    App.prototype.render = function () {\n        return (h(\"stencil-router\", null, h(\"stencil-route-switch\", { scrollTopOffset: 0 }, routes.map(function (r) { return (h(\"stencil-route\", { url: r.url, component: r.component, exact: true })); }))));\n    };\n    return App;\n}());\nvar routeCss = \"stencil-route.inactive{display:none}\";\nvar Route = /** @class */ (function () {\n    function class_1(hostRef) {\n        registerInstance(this, hostRef);\n        this.group = null;\n        this.match = null;\n        this.componentProps = {};\n        this.exact = false;\n        this.scrollOnNextRender = false;\n        this.previousMatch = null;\n    }\n    // Identify if the current route is a match.\n    class_1.prototype.computeMatch = function (newLocation) {\n        var isGrouped = this.group != null || (this.el.parentElement != null && this.el.parentElement.tagName.toLowerCase() === 'stencil-route-switch');\n        if (!newLocation || isGrouped) {\n            return;\n        }\n        this.previousMatch = this.match;\n        return this.match = matchPath(newLocation.pathname, {\n            path: this.url,\n            exact: this.exact,\n            strict: true\n        });\n    };\n    class_1.prototype.loadCompleted = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var routeViewOptions;\n            return __generator(this, function (_a) {\n                routeViewOptions = {};\n                if (this.history && this.history.location.hash) {\n                    routeViewOptions = {\n                        scrollToId: this.history.location.hash.substr(1)\n                    };\n                }\n                else if (this.scrollTopOffset) {\n                    routeViewOptions = {\n                        scrollTopOffset: this.scrollTopOffset\n                    };\n                }\n                // After all children have completed then tell switch\n                // the provided callback will get executed after this route is in view\n                if (typeof this.componentUpdated === 'function') {\n                    this.componentUpdated(routeViewOptions);\n                    // If this is an independent route and it matches then routes have updated.\n                    // If the only change to location is a hash change then do not scroll.\n                }\n                else if (this.match && !matchesAreEqual(this.match, this.previousMatch) && this.routeViewsUpdated) {\n                    this.routeViewsUpdated(routeViewOptions);\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    class_1.prototype.componentDidUpdate = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.loadCompleted()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.componentDidLoad = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.loadCompleted()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.render = function () {\n        // If there is no activeRouter then do not render\n        // Check if this route is in the matching URL (for example, a parent route)\n        if (!this.match || !this.history) {\n            return null;\n        }\n        // component props defined in route\n        // the history api\n        // current match data including params\n        var childProps = Object.assign({}, this.componentProps, { history: this.history, match: this.match });\n        // If there is a routerRender defined then use\n        // that and pass the component and component props with it.\n        if (this.routeRender) {\n            return this.routeRender(Object.assign({}, childProps, { component: this.component }));\n        }\n        if (this.component) {\n            var ChildComponent = this.component;\n            return (h(ChildComponent, Object.assign({}, childProps)));\n        }\n    };\n    Object.defineProperty(class_1.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_1, \"watchers\", {\n        get: function () {\n            return {\n                \"location\": [\"computeMatch\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return class_1;\n}());\nActiveRouter.injectProps(Route, [\n    'location',\n    'history',\n    'historyType',\n    'routeViewsUpdated'\n]);\nRoute.style = routeCss;\nvar getUniqueId = function () {\n    return ((Math.random() * 10e16).toString().match(/.{4}/g) || []).join('-');\n};\nvar getMatch = function (pathname, url, exact) {\n    return matchPath(pathname, {\n        path: url,\n        exact: exact,\n        strict: true\n    });\n};\nvar isHTMLStencilRouteElement = function (elm) {\n    return elm.tagName === 'STENCIL-ROUTE';\n};\nvar RouteSwitch = /** @class */ (function () {\n    function class_2(hostRef) {\n        registerInstance(this, hostRef);\n        this.group = getUniqueId();\n        this.subscribers = [];\n        this.queue = getContext(this, \"queue\");\n    }\n    class_2.prototype.componentWillLoad = function () {\n        if (this.location != null) {\n            this.regenerateSubscribers(this.location);\n        }\n    };\n    class_2.prototype.regenerateSubscribers = function (newLocation) {\n        return __awaiter(this, void 0, void 0, function () {\n            var newActiveIndex, activeChild;\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (newLocation == null) {\n                    return [2 /*return*/];\n                }\n                newActiveIndex = -1;\n                this.subscribers = Array.prototype.slice.call(this.el.children)\n                    .filter(isHTMLStencilRouteElement)\n                    .map(function (childElement, index) {\n                    var match = getMatch(newLocation.pathname, childElement.url, childElement.exact);\n                    if (match && newActiveIndex === -1) {\n                        newActiveIndex = index;\n                    }\n                    return {\n                        el: childElement,\n                        match: match\n                    };\n                });\n                if (newActiveIndex === -1) {\n                    return [2 /*return*/];\n                }\n                // Check if this actually changes which child is active\n                // then just pass the new match down if the active route isn't changing.\n                if (this.activeIndex === newActiveIndex) {\n                    this.subscribers[newActiveIndex].el.match = this.subscribers[newActiveIndex].match;\n                    return [2 /*return*/];\n                }\n                this.activeIndex = newActiveIndex;\n                activeChild = this.subscribers[this.activeIndex];\n                if (this.scrollTopOffset) {\n                    activeChild.el.scrollTopOffset = this.scrollTopOffset;\n                }\n                activeChild.el.group = this.group;\n                activeChild.el.match = activeChild.match;\n                activeChild.el.componentUpdated = function (routeViewUpdatedOptions) {\n                    // After the new active route has completed then update visibility of routes\n                    _this.queue.write(function () {\n                        _this.subscribers.forEach(function (child, index) {\n                            child.el.componentUpdated = undefined;\n                            if (index === _this.activeIndex) {\n                                return child.el.style.display = '';\n                            }\n                            if (_this.scrollTopOffset) {\n                                child.el.scrollTopOffset = _this.scrollTopOffset;\n                            }\n                            child.el.group = _this.group;\n                            child.el.match = null;\n                            child.el.style.display = 'none';\n                        });\n                    });\n                    if (_this.routeViewsUpdated) {\n                        _this.routeViewsUpdated(Object.assign({ scrollTopOffset: _this.scrollTopOffset }, routeViewUpdatedOptions));\n                    }\n                };\n                return [2 /*return*/];\n            });\n        });\n    };\n    class_2.prototype.render = function () {\n        return (h(\"slot\", null));\n    };\n    Object.defineProperty(class_2.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_2, \"watchers\", {\n        get: function () {\n            return {\n                \"location\": [\"regenerateSubscribers\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return class_2;\n}());\nActiveRouter.injectProps(RouteSwitch, [\n    'location',\n    'routeViewsUpdated'\n]);\nvar warning = function (value) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (!value) {\n        console.warn.apply(console, args);\n    }\n};\n// Adapted from the https://github.com/ReactTraining/history and converted to TypeScript\nvar createTransitionManager = function () {\n    var prompt;\n    var listeners = [];\n    var setPrompt = function (nextPrompt) {\n        warning(prompt == null, 'A history supports only one prompt at a time');\n        prompt = nextPrompt;\n        return function () {\n            if (prompt === nextPrompt) {\n                prompt = null;\n            }\n        };\n    };\n    var confirmTransitionTo = function (location, action, getUserConfirmation, callback) {\n        // TODO: If another transition starts while we're still confirming\n        // the previous one, we may end up in a weird state. Figure out the\n        // best way to handle this.\n        if (prompt != null) {\n            var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n            if (typeof result === 'string') {\n                if (typeof getUserConfirmation === 'function') {\n                    getUserConfirmation(result, callback);\n                }\n                else {\n                    warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\n                    callback(true);\n                }\n            }\n            else {\n                // Return false from a transition hook to cancel the transition.\n                callback(result !== false);\n            }\n        }\n        else {\n            callback(true);\n        }\n    };\n    var appendListener = function (fn) {\n        var isActive = true;\n        var listener = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (isActive) {\n                fn.apply(void 0, args);\n            }\n        };\n        listeners.push(listener);\n        return function () {\n            isActive = false;\n            listeners = listeners.filter(function (item) { return item !== listener; });\n        };\n    };\n    var notifyListeners = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        listeners.forEach(function (listener) { return listener.apply(void 0, args); });\n    };\n    return {\n        setPrompt: setPrompt,\n        confirmTransitionTo: confirmTransitionTo,\n        appendListener: appendListener,\n        notifyListeners: notifyListeners\n    };\n};\nvar createScrollHistory = function (win, applicationScrollKey) {\n    if (applicationScrollKey === void 0) { applicationScrollKey = 'scrollPositions'; }\n    var scrollPositions = new Map();\n    var set = function (key, value) {\n        scrollPositions.set(key, value);\n        if (storageAvailable(win, 'sessionStorage')) {\n            var arrayData_1 = [];\n            scrollPositions.forEach(function (value, key) {\n                arrayData_1.push([key, value]);\n            });\n            win.sessionStorage.setItem('scrollPositions', JSON.stringify(arrayData_1));\n        }\n    };\n    var get = function (key) {\n        return scrollPositions.get(key);\n    };\n    var has = function (key) {\n        return scrollPositions.has(key);\n    };\n    var capture = function (key) {\n        set(key, [win.scrollX, win.scrollY]);\n    };\n    if (storageAvailable(win, 'sessionStorage')) {\n        var scrollData = win.sessionStorage.getItem(applicationScrollKey);\n        scrollPositions = scrollData ?\n            new Map(JSON.parse(scrollData)) :\n            scrollPositions;\n    }\n    if ('scrollRestoration' in win.history) {\n        history.scrollRestoration = 'manual';\n    }\n    return {\n        set: set,\n        get: get,\n        has: has,\n        capture: capture\n    };\n};\n// Adapted from the https://github.com/ReactTraining/history and converted to TypeScript\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\nvar createBrowserHistory = function (win, props) {\n    if (props === void 0) { props = {}; }\n    var forceNextPop = false;\n    var globalHistory = win.history;\n    var globalLocation = win.location;\n    var globalNavigator = win.navigator;\n    var canUseHistory = supportsHistory(win);\n    var needsHashChangeListener = !supportsPopStateOnHashChange(globalNavigator);\n    var scrollHistory = createScrollHistory(win);\n    var forceRefresh = (props.forceRefresh != null) ? props.forceRefresh : false;\n    var getUserConfirmation = (props.getUserConfirmation != null) ? props.getUserConfirmation : getConfirmation;\n    var keyLength = (props.keyLength != null) ? props.keyLength : 6;\n    var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n    var getHistoryState = function () {\n        try {\n            return win.history.state || {};\n        }\n        catch (e) {\n            // IE 11 sometimes throws when accessing window.history.state\n            // See https://github.com/ReactTraining/history/pull/289\n            return {};\n        }\n    };\n    var getDOMLocation = function (historyState) {\n        historyState = historyState || {};\n        var key = historyState.key, state = historyState.state;\n        var pathname = globalLocation.pathname, search = globalLocation.search, hash = globalLocation.hash;\n        var path = pathname + search + hash;\n        warning((!basename || hasBasename(path, basename)), 'You are attempting to use a basename on a page whose URL path does not begin ' +\n            'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n        if (basename) {\n            path = stripBasename(path, basename);\n        }\n        return createLocation(path, state, key || createKey(keyLength));\n    };\n    var transitionManager = createTransitionManager();\n    var setState = function (nextState) {\n        // Capture location for the view before changing history.\n        scrollHistory.capture(history.location.key);\n        Object.assign(history, nextState);\n        // Set scroll position based on its previous storage value\n        history.location.scrollPosition = scrollHistory.get(history.location.key);\n        history.length = globalHistory.length;\n        transitionManager.notifyListeners(history.location, history.action);\n    };\n    var handlePopState = function (event) {\n        // Ignore extraneous popstate events in WebKit.\n        if (!isExtraneousPopstateEvent(globalNavigator, event)) {\n            handlePop(getDOMLocation(event.state));\n        }\n    };\n    var handleHashChange = function () {\n        handlePop(getDOMLocation(getHistoryState()));\n    };\n    var handlePop = function (location) {\n        if (forceNextPop) {\n            forceNextPop = false;\n            setState();\n        }\n        else {\n            var action_1 = 'POP';\n            transitionManager.confirmTransitionTo(location, action_1, getUserConfirmation, function (ok) {\n                if (ok) {\n                    setState({ action: action_1, location: location });\n                }\n                else {\n                    revertPop(location);\n                }\n            });\n        }\n    };\n    var revertPop = function (fromLocation) {\n        var toLocation = history.location;\n        // TODO: We could probably make this more reliable by\n        // keeping a list of keys we've seen in sessionStorage.\n        // Instead, we just default to 0 for keys we don't know.\n        var toIndex = allKeys.indexOf(toLocation.key);\n        var fromIndex = allKeys.indexOf(fromLocation.key);\n        if (toIndex === -1) {\n            toIndex = 0;\n        }\n        if (fromIndex === -1) {\n            fromIndex = 0;\n        }\n        var delta = toIndex - fromIndex;\n        if (delta) {\n            forceNextPop = true;\n            go(delta);\n        }\n    };\n    var initialLocation = getDOMLocation(getHistoryState());\n    var allKeys = [initialLocation.key];\n    var listenerCount = 0;\n    var isBlocked = false;\n    // Public interface\n    var createHref = function (location) {\n        return basename + createPath(location);\n    };\n    var push = function (path, state) {\n        warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' +\n            'argument is a location-like object that already has state; it is ignored');\n        var action = 'PUSH';\n        var location = createLocation(path, state, createKey(keyLength), history.location);\n        transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n            if (!ok) {\n                return;\n            }\n            var href = createHref(location);\n            var key = location.key, state = location.state;\n            if (canUseHistory) {\n                globalHistory.pushState({ key: key, state: state }, '', href);\n                if (forceRefresh) {\n                    globalLocation.href = href;\n                }\n                else {\n                    var prevIndex = allKeys.indexOf(history.location.key);\n                    var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n                    nextKeys.push(location.key);\n                    allKeys = nextKeys;\n                    setState({ action: action, location: location });\n                }\n            }\n            else {\n                warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\n                globalLocation.href = href;\n            }\n        });\n    };\n    var replace = function (path, state) {\n        warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' +\n            'argument is a location-like object that already has state; it is ignored');\n        var action = 'REPLACE';\n        var location = createLocation(path, state, createKey(keyLength), history.location);\n        transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n            if (!ok) {\n                return;\n            }\n            var href = createHref(location);\n            var key = location.key, state = location.state;\n            if (canUseHistory) {\n                globalHistory.replaceState({ key: key, state: state }, '', href);\n                if (forceRefresh) {\n                    globalLocation.replace(href);\n                }\n                else {\n                    var prevIndex = allKeys.indexOf(history.location.key);\n                    if (prevIndex !== -1) {\n                        allKeys[prevIndex] = location.key;\n                    }\n                    setState({ action: action, location: location });\n                }\n            }\n            else {\n                warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\n                globalLocation.replace(href);\n            }\n        });\n    };\n    var go = function (n) {\n        globalHistory.go(n);\n    };\n    var goBack = function () { return go(-1); };\n    var goForward = function () { return go(1); };\n    var checkDOMListeners = function (delta) {\n        listenerCount += delta;\n        if (listenerCount === 1) {\n            win.addEventListener(PopStateEvent, handlePopState);\n            if (needsHashChangeListener) {\n                win.addEventListener(HashChangeEvent, handleHashChange);\n            }\n        }\n        else if (listenerCount === 0) {\n            win.removeEventListener(PopStateEvent, handlePopState);\n            if (needsHashChangeListener) {\n                win.removeEventListener(HashChangeEvent, handleHashChange);\n            }\n        }\n    };\n    var block = function (prompt) {\n        if (prompt === void 0) { prompt = ''; }\n        var unblock = transitionManager.setPrompt(prompt);\n        if (!isBlocked) {\n            checkDOMListeners(1);\n            isBlocked = true;\n        }\n        return function () {\n            if (isBlocked) {\n                isBlocked = false;\n                checkDOMListeners(-1);\n            }\n            return unblock();\n        };\n    };\n    var listen = function (listener) {\n        var unlisten = transitionManager.appendListener(listener);\n        checkDOMListeners(1);\n        return function () {\n            checkDOMListeners(-1);\n            unlisten();\n        };\n    };\n    var history = {\n        length: globalHistory.length,\n        action: 'POP',\n        location: initialLocation,\n        createHref: createHref,\n        push: push,\n        replace: replace,\n        go: go,\n        goBack: goBack,\n        goForward: goForward,\n        block: block,\n        listen: listen,\n        win: win\n    };\n    return history;\n};\n// Adapted from the https://github.com/ReactTraining/history and converted to TypeScript\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n    hashbang: {\n        encodePath: function (path) { return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path); },\n        decodePath: function (path) { return path.charAt(0) === '!' ? path.substr(1) : path; }\n    },\n    noslash: {\n        encodePath: stripLeadingSlash,\n        decodePath: addLeadingSlash\n    },\n    slash: {\n        encodePath: addLeadingSlash,\n        decodePath: addLeadingSlash\n    }\n};\nvar createHashHistory = function (win, props) {\n    if (props === void 0) { props = {}; }\n    var forceNextPop = false;\n    var ignorePath = null;\n    var listenerCount = 0;\n    var isBlocked = false;\n    var globalLocation = win.location;\n    var globalHistory = win.history;\n    var canGoWithoutReload = supportsGoWithoutReloadUsingHash(win.navigator);\n    var keyLength = (props.keyLength != null) ? props.keyLength : 6;\n    var _a = props.getUserConfirmation, getUserConfirmation = _a === void 0 ? getConfirmation : _a, _b = props.hashType, hashType = _b === void 0 ? 'slash' : _b;\n    var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n    var _c = HashPathCoders[hashType], encodePath = _c.encodePath, decodePath = _c.decodePath;\n    var getHashPath = function () {\n        // We can't use window.location.hash here because it's not\n        // consistent across browsers - Firefox will pre-decode it!\n        var href = globalLocation.href;\n        var hashIndex = href.indexOf('#');\n        return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n    };\n    var pushHashPath = function (path) { return (globalLocation.hash = path); };\n    var replaceHashPath = function (path) {\n        var hashIndex = globalLocation.href.indexOf('#');\n        globalLocation.replace(globalLocation.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path);\n    };\n    var getDOMLocation = function () {\n        var path = decodePath(getHashPath());\n        warning((!basename || hasBasename(path, basename)), 'You are attempting to use a basename on a page whose URL path does not begin ' +\n            'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n        if (basename) {\n            path = stripBasename(path, basename);\n        }\n        return createLocation(path, undefined, createKey(keyLength));\n    };\n    var transitionManager = createTransitionManager();\n    var setState = function (nextState) {\n        Object.assign(history, nextState);\n        history.length = globalHistory.length;\n        transitionManager.notifyListeners(history.location, history.action);\n    };\n    var handleHashChange = function () {\n        var path = getHashPath();\n        var encodedPath = encodePath(path);\n        if (path !== encodedPath) {\n            // Ensure we always have a properly-encoded hash.\n            replaceHashPath(encodedPath);\n        }\n        else {\n            var location = getDOMLocation();\n            var prevLocation = history.location;\n            if (!forceNextPop && locationsAreEqual(prevLocation, location)) {\n                return; // A hashchange doesn't always == location change.\n            }\n            if (ignorePath === createPath(location)) {\n                return; // Ignore this change; we already setState in push/replace.\n            }\n            ignorePath = null;\n            handlePop(location);\n        }\n    };\n    var handlePop = function (location) {\n        if (forceNextPop) {\n            forceNextPop = false;\n            setState();\n        }\n        else {\n            var action_2 = 'POP';\n            transitionManager.confirmTransitionTo(location, action_2, getUserConfirmation, function (ok) {\n                if (ok) {\n                    setState({ action: action_2, location: location });\n                }\n                else {\n                    revertPop(location);\n                }\n            });\n        }\n    };\n    var revertPop = function (fromLocation) {\n        var toLocation = history.location;\n        // TODO: We could probably make this more reliable by\n        // keeping a list of paths we've seen in sessionStorage.\n        // Instead, we just default to 0 for paths we don't know.\n        var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n        var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n        if (toIndex === -1) {\n            toIndex = 0;\n        }\n        if (fromIndex === -1) {\n            fromIndex = 0;\n        }\n        var delta = toIndex - fromIndex;\n        if (delta) {\n            forceNextPop = true;\n            go(delta);\n        }\n    };\n    // Ensure the hash is encoded properly before doing anything else.\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n    if (path !== encodedPath) {\n        replaceHashPath(encodedPath);\n    }\n    var initialLocation = getDOMLocation();\n    var allPaths = [createPath(initialLocation)];\n    // Public interface\n    var createHref = function (location) { return ('#' + encodePath(basename + createPath(location))); };\n    var push = function (path, state) {\n        warning(state === undefined, 'Hash history cannot push state; it is ignored');\n        var action = 'PUSH';\n        var location = createLocation(path, undefined, createKey(keyLength), history.location);\n        transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n            if (!ok) {\n                return;\n            }\n            var path = createPath(location);\n            var encodedPath = encodePath(basename + path);\n            var hashChanged = getHashPath() !== encodedPath;\n            if (hashChanged) {\n                // We cannot tell if a hashchange was caused by a PUSH, so we'd\n                // rather setState here and ignore the hashchange. The caveat here\n                // is that other hash histories in the page will consider it a POP.\n                ignorePath = path;\n                pushHashPath(encodedPath);\n                var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n                var nextPaths = allPaths.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n                nextPaths.push(path);\n                allPaths = nextPaths;\n                setState({ action: action, location: location });\n            }\n            else {\n                warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack');\n                setState();\n            }\n        });\n    };\n    var replace = function (path, state) {\n        warning(state === undefined, 'Hash history cannot replace state; it is ignored');\n        var action = 'REPLACE';\n        var location = createLocation(path, undefined, createKey(keyLength), history.location);\n        transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n            if (!ok) {\n                return;\n            }\n            var path = createPath(location);\n            var encodedPath = encodePath(basename + path);\n            var hashChanged = getHashPath() !== encodedPath;\n            if (hashChanged) {\n                // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n                // rather setState here and ignore the hashchange. The caveat here\n                // is that other hash histories in the page will consider it a POP.\n                ignorePath = path;\n                replaceHashPath(encodedPath);\n            }\n            var prevIndex = allPaths.indexOf(createPath(history.location));\n            if (prevIndex !== -1) {\n                allPaths[prevIndex] = path;\n            }\n            setState({ action: action, location: location });\n        });\n    };\n    var go = function (n) {\n        warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser');\n        globalHistory.go(n);\n    };\n    var goBack = function () { return go(-1); };\n    var goForward = function () { return go(1); };\n    var checkDOMListeners = function (win, delta) {\n        listenerCount += delta;\n        if (listenerCount === 1) {\n            win.addEventListener(HashChangeEvent$1, handleHashChange);\n        }\n        else if (listenerCount === 0) {\n            win.removeEventListener(HashChangeEvent$1, handleHashChange);\n        }\n    };\n    var block = function (prompt) {\n        if (prompt === void 0) { prompt = ''; }\n        var unblock = transitionManager.setPrompt(prompt);\n        if (!isBlocked) {\n            checkDOMListeners(win, 1);\n            isBlocked = true;\n        }\n        return function () {\n            if (isBlocked) {\n                isBlocked = false;\n                checkDOMListeners(win, -1);\n            }\n            return unblock();\n        };\n    };\n    var listen = function (listener) {\n        var unlisten = transitionManager.appendListener(listener);\n        checkDOMListeners(win, 1);\n        return function () {\n            checkDOMListeners(win, -1);\n            unlisten();\n        };\n    };\n    var history = {\n        length: globalHistory.length,\n        action: 'POP',\n        location: initialLocation,\n        createHref: createHref,\n        push: push,\n        replace: replace,\n        go: go,\n        goBack: goBack,\n        goForward: goForward,\n        block: block,\n        listen: listen,\n        win: win\n    };\n    return history;\n};\nvar getLocation = function (location, root) {\n    // Remove the root URL if found at beginning of string\n    var pathname = location.pathname.indexOf(root) == 0 ?\n        '/' + location.pathname.slice(root.length) :\n        location.pathname;\n    return Object.assign({}, location, { pathname: pathname });\n};\nvar HISTORIES = {\n    'browser': createBrowserHistory,\n    'hash': createHashHistory\n};\nvar Router = /** @class */ (function () {\n    function Router(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        this.root = '/';\n        this.historyType = 'browser';\n        // A suffix to append to the page title whenever\n        // it's updated through RouteTitle\n        this.titleSuffix = '';\n        this.routeViewsUpdated = function (options) {\n            if (options === void 0) { options = {}; }\n            if (_this.history && options.scrollToId && _this.historyType === 'browser') {\n                var elm = _this.history.win.document.getElementById(options.scrollToId);\n                if (elm) {\n                    return elm.scrollIntoView();\n                }\n            }\n            _this.scrollTo(options.scrollTopOffset || _this.scrollTopOffset);\n        };\n        this.isServer = getContext(this, \"isServer\");\n        this.queue = getContext(this, \"queue\");\n    }\n    Router.prototype.componentWillLoad = function () {\n        var _this = this;\n        this.history = HISTORIES[this.historyType](this.el.ownerDocument.defaultView);\n        this.history.listen(function (location) {\n            location = getLocation(location, _this.root);\n            _this.location = location;\n        });\n        this.location = getLocation(this.history.location, this.root);\n    };\n    Router.prototype.scrollTo = function (scrollToLocation) {\n        var history = this.history;\n        if (scrollToLocation == null || this.isServer || !history) {\n            return;\n        }\n        if (history.action === 'POP' && Array.isArray(history.location.scrollPosition)) {\n            return this.queue.write(function () {\n                if (history && history.location && Array.isArray(history.location.scrollPosition)) {\n                    history.win.scrollTo(history.location.scrollPosition[0], history.location.scrollPosition[1]);\n                }\n            });\n        }\n        // okay, the frame has passed. Go ahead and render now\n        return this.queue.write(function () {\n            history.win.scrollTo(0, scrollToLocation);\n        });\n    };\n    Router.prototype.render = function () {\n        if (!this.location || !this.history) {\n            return;\n        }\n        var state = {\n            historyType: this.historyType,\n            location: this.location,\n            titleSuffix: this.titleSuffix,\n            root: this.root,\n            history: this.history,\n            routeViewsUpdated: this.routeViewsUpdated\n        };\n        return (h(ActiveRouter.Provider, { state: state }, h(\"slot\", null)));\n    };\n    Object.defineProperty(Router.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return Router;\n}());\nexport { App as bp_app, Route as stencil_route, RouteSwitch as stencil_route_switch, Router as stencil_router };\n"],"sourceRoot":""}