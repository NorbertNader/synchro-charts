{"version":3,"sources":["../node_modules/process/browser.js","../node_modules/@amzn/bp-components/dist/esm-es5/monitor-lazily-load.entry.js"],"names":["cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","__spreadArrays","s","il","r","k","a","j","jl","BrowserInfo","os","type","NodeInfo","platform","SearchBotDeviceInfo","bot","BotInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","parseUserAgent","ua","matchedRule","reduce","matched","_a","regex","uaMatch","exec","matchUserAgent","match","versionParts","split","slice","count","output","ii","createVersionParts","join","detectOS","searchBotMatch","userAgent","navigator","USE_FALLBACK","window","IntersectionObserverEntry","MonitorLazilyLoad","hostRef","registerInstance","delayBeforeRender","shouldRender","componentDidLoad","_this","observer","IntersectionObserver","entries","some","intersectionRatio","threshold","parentWithSize","getParentWithSize","el","parent","parentElement","_b","getBoundingClientRect","width","height","observe","console","error","componentDidUnload","disconnect","render","renderFunc","Object","defineProperty","get","getElement","enumerable","configurable"],"mappings":"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","file":"static/js/stencil-monitor-lazily-load-entry-js.1afff245.chunk.js","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { r as registerInstance, g as getElement } from './index-326b73e4.js';\nvar __spreadArrays = (undefined && undefined.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++)\n        s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['vivaldi', /Vivaldi\\/([0-9\\.]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /Edg\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nfunction detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nfunction parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, versionParts.join('.'), os);\n}\nfunction detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nfunction getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\nvar browser = detect();\n// Having issues getting firefox to work - it prematurely fires the event for 0 threshold before it intersects.\n// Upon adding multiple thresholds in the intersection init, it only ever fires the first. Issue is recreated\n// by making a window very small and slowly scrolling.\n// Additionally intersectionRatio is always zero in firefox. Be careful!\nvar USE_FALLBACK = (browser && browser.name === 'firefox') ||\n    !('IntersectionObserver' in window) ||\n    !('IntersectionObserverEntry' in window) ||\n    !('intersectionRatio' in window.IntersectionObserverEntry.prototype);\nvar DEFAULT_LATENCY_BEFORE_VISIBLE_MS = 100;\nvar getParentWithSize = function (el) {\n    var parent = el.parentElement;\n    if (parent == null) {\n        return null;\n    }\n    var _b = parent.getBoundingClientRect(), width = _b.width, height = _b.height;\n    var hasSize = width * height > 0;\n    return hasSize ? parent : getParentWithSize(parent);\n};\nvar MonitorLazilyLoad = /** @class */ (function () {\n    function MonitorLazilyLoad(hostRef) {\n        registerInstance(this, hostRef);\n        this.delayBeforeRender = DEFAULT_LATENCY_BEFORE_VISIBLE_MS;\n        this.shouldRender = false;\n    }\n    MonitorLazilyLoad.prototype.componentDidLoad = function () {\n        var _this = this;\n        if (!USE_FALLBACK) {\n            this.observer = new IntersectionObserver(function (entries) {\n                var inViewport = entries.some(function (e) { return e.intersectionRatio > 0; });\n                if (!inViewport) {\n                    _this.shouldRender = false;\n                }\n                else {\n                    setTimeout(function () {\n                        _this.shouldRender = true;\n                    }, _this.delayBeforeRender);\n                }\n            }, {\n                // We want to be alerted when it's entirely not visible or partially visible.\n                threshold: [0, 0.05],\n            });\n            var parentWithSize = getParentWithSize(this.el);\n            if (parentWithSize) {\n                this.observer.observe(parentWithSize);\n            }\n            else {\n                // Component was not mounted in a context where we can find a parent to observe, so jus always display it.\n                this.shouldRender = true;\n                // eslint-disable-next-line no-console\n                console.error('invalid usage of monitor-lazily-load. must be contained in an element with a size');\n            }\n        }\n        else {\n            this.shouldRender = true;\n        }\n    };\n    MonitorLazilyLoad.prototype.componentDidUnload = function () {\n        if (this.observer) {\n            this.observer.disconnect();\n        }\n    };\n    MonitorLazilyLoad.prototype.render = function () {\n        return this.shouldRender && this.renderFunc();\n    };\n    Object.defineProperty(MonitorLazilyLoad.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return MonitorLazilyLoad;\n}());\nexport { MonitorLazilyLoad as monitor_lazily_load };\n"],"sourceRoot":""}