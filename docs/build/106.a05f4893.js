(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{1046:function(t,e,r){"use strict";r.r(e),r.d(e,"single_colored_status",(function(){return f}));var n=r(109),a=(r(1072),r(1071)),o=r(1073),i=(r(1078),r(1086)),s=(r(1076),r(1084),r(1096),r(1097),r(1088),r(1080),r(1090)),c=(r(1092),r(1113)),u=new Date(2e3,0,0),h=new Date(2e3,0,1),d=h.getTime()-u.getTime(),l={x:u.getTime()+d/3,y:123},f=function(){function t(t){Object(n.h)(this,t)}return t.prototype.componentDidLoad=function(){var t,e=this.el.querySelector("#test-container"),r=Object(c.c)({alarms:{expires:o.a},viewPort:{start:u,end:h,yMin:0,yMax:c.a},dataStreams:[{id:"test-stream",name:"test-stream-name",color:"red",aggregates:(t={},t[o.a]=[l],t),data:[],resolution:o.a,dataType:a.a.NUMBER}],container:e,chartSize:s.a,minBufferSize:100,bufferFactor:2,thresholdOptions:{showColor:!1},thresholds:[]});i.b.addChartScene(r);var n=e.getBoundingClientRect();i.b.setChartRect(r.id,Object.assign({density:1},n.toJSON()))},t.prototype.render=function(){return Object(n.g)("monitor-webgl-context",null,Object(n.g)("div",{id:"test-container",style:{width:s.a.width+"px",height:s.a.height+"px"}}))},Object.defineProperty(t.prototype,"el",{get:function(){return Object(n.f)(this)},enumerable:!0,configurable:!0}),t}()},1085:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return h}));var n=r(1077),a=r(1075),o=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),a=0;for(e=0;e<r;e++)for(var o=arguments[e],i=0,s=o.length;i<s;i++,a++)n[a]=o[i];return n},i=function(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,left:e.left+window.scrollX,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY,top:e.top+window.scrollY,x:e.x+window.scrollX,y:e.y+window.scrollY,density:window.devicePixelRatio}},s=function(){function t(t){this.rectMap={},this.canvas=t,this.updateCanvas()}return t.prototype.updateCanvas=function(){this.canvasRect=this.canvas.getBoundingClientRect()},t.prototype.updateChartScene=function(t,e){this.rectMap[t]=e},t.prototype.clipRect=function(t){return this.rectMap[t]?function(t,e){var r=window.devicePixelRatio,n=t.left,a=t.bottom,o=t.width,i=t.height,s=e.height-(a-window.scrollY);return{left:(n-window.scrollX)*r,bottom:s*r,width:o*r,height:i*r}}(this.rectMap[t],this.canvasRect):void 0},t.prototype.removeChartScene=function(t){delete this.rectMap[t]},t}(),c=function(){var t=this;this.viewPortManagers=[],this.viewPortMap={},this.managers=function(){return o(t.viewPortManagers)},this.dispose=function(){t.viewPortManagers.forEach((function(e){var r=e.id;return t.remove(r)}))},this.add=function(e,r){void 0===r&&(r=!0),t.viewPortManagers=o(t.viewPortManagers,[e]),e.viewPortGroup&&t.viewPortMap[e.viewPortGroup]&&r&&e.updateViewPort(t.viewPortMap[e.viewPortGroup])},this.remove=function(e){var r=t.viewPortManagers.find((function(t){return t.id===e}));r&&r.dispose(),t.viewPortManagers=t.viewPortManagers.filter((function(t){return t.id!==e}))},this.syncViewPortGroup=function(e){var r=e.start,n=e.end,a=e.manager,o=e.preventPropagation,i=void 0!==o&&o;if(a.viewPortGroup&&(t.viewPortMap[a.viewPortGroup]={start:r,end:n}),!i){var s=function(t){t.updateViewPort({start:r,end:n})};a.viewPortGroup?t.viewPortManagers.filter((function(t){var e=t.viewPortGroup;return a.viewPortGroup===e})).forEach(s):s(a)}}},u=Object(a.i)((function(t){return null!=t.camera})),h=function(){var t,e,r,a=new c,o=function(){e&&(e.setScissorTest(!1),e.setClearColor(16777215,0),e.clear(),e.setScissorTest(!0),a.managers().filter(u).forEach(d))},i=function(){if(e&&r){var n="translate("+window.scrollX+"px, "+window.scrollY+"px)";e.domElement.style.transform=n,t.updateCanvas(),o()}},h=function(){e&&r&&(function(t){var e=t.domElement,r=Math.floor(e.clientWidth*window.devicePixelRatio)||0,n=Math.floor(e.clientHeight*window.devicePixelRatio)||0,a=e.width!==r||e.height!==n;a&&t.setSize(r,n,!1)}(e),t.updateCanvas(),o())},d=function(n){var a=t.clipRect(n.id);e&&r&&a&&function(t,e,r){var n=e.scene,a=e.camera,o=r.left,i=r.bottom,s=r.width,c=r.height;t.setScissor(o,i,s,c),t.setViewport(o,i,s,c),t.render(n,a)}(e,n,a)};return{initRendering:function(a){t=new s(a),r=a,(e=new n.h({canvas:r,alpha:!0,antialias:!0,preserveDrawingBuffer:!0})).setScissorTest(!0),e.setClearColor(0,0),i(),h(),window.addEventListener("scroll",i),window.addEventListener("resize",h)},dispose:function(){e&&e.dispose(),a.dispose(),window.removeEventListener("scroll",i),window.removeEventListener("resize",h)},render:d,addChartScene:function(t,e){void 0===e&&(e=!0),a.add(t,e)},removeChartScene:function(e){a.remove(e),t.removeChartScene(e),o()},setChartRect:function(e,r){t.updateChartScene(e,r),o()},updateViewPorts:a.syncViewPortGroup,onResolutionChange:function(){h()}}}()},1086:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return h}));var n=r(1078),a=r(1076),o=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),a=0;for(e=0;e<r;e++)for(var o=arguments[e],i=0,s=o.length;i<s;i++,a++)n[a]=o[i];return n},i=function(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,left:e.left+window.scrollX,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY,top:e.top+window.scrollY,x:e.x+window.scrollX,y:e.y+window.scrollY,density:window.devicePixelRatio}},s=function(){function t(t){this.rectMap={},this.canvas=t,this.updateCanvas()}return t.prototype.updateCanvas=function(){this.canvasRect=this.canvas.getBoundingClientRect()},t.prototype.updateChartScene=function(t,e){this.rectMap[t]=e},t.prototype.clipRect=function(t){return this.rectMap[t]?function(t,e){var r=window.devicePixelRatio,n=t.left,a=t.bottom,o=t.width,i=t.height,s=e.height-(a-window.scrollY);return{left:(n-window.scrollX)*r,bottom:s*r,width:o*r,height:i*r}}(this.rectMap[t],this.canvasRect):void 0},t.prototype.removeChartScene=function(t){delete this.rectMap[t]},t}(),c=function(){var t=this;this.viewPortManagers=[],this.viewPortMap={},this.managers=function(){return o(t.viewPortManagers)},this.dispose=function(){t.viewPortManagers.forEach((function(e){var r=e.id;return t.remove(r)}))},this.add=function(e,r){void 0===r&&(r=!0),t.viewPortManagers=o(t.viewPortManagers,[e]),e.viewPortGroup&&t.viewPortMap[e.viewPortGroup]&&r&&e.updateViewPort(t.viewPortMap[e.viewPortGroup])},this.remove=function(e){var r=t.viewPortManagers.find((function(t){return t.id===e}));r&&r.dispose(),t.viewPortManagers=t.viewPortManagers.filter((function(t){return t.id!==e}))},this.syncViewPortGroup=function(e){var r=e.start,n=e.end,a=e.manager,o=e.preventPropagation,i=void 0!==o&&o;if(a.viewPortGroup&&(t.viewPortMap[a.viewPortGroup]={start:r,end:n}),!i){var s=function(t){t.updateViewPort({start:r,end:n})};a.viewPortGroup?t.viewPortManagers.filter((function(t){var e=t.viewPortGroup;return a.viewPortGroup===e})).forEach(s):s(a)}}},u=Object(a.i)((function(t){return null!=t.camera})),h=function(){var t,e,r,a=new c,o=function(){e&&(e.setScissorTest(!1),e.setClearColor(16777215,0),e.clear(),e.setScissorTest(!0),a.managers().filter(u).forEach(d))},i=function(){if(e&&r){var n="translate("+window.scrollX+"px, "+window.scrollY+"px)";e.domElement.style.transform=n,t.updateCanvas(),o()}},h=function(){e&&r&&(function(t){var e=t.domElement,r=Math.floor(e.clientWidth*window.devicePixelRatio)||0,n=Math.floor(e.clientHeight*window.devicePixelRatio)||0,a=e.width!==r||e.height!==n;a&&t.setSize(r,n,!1)}(e),t.updateCanvas(),o())},d=function(n){var a=t.clipRect(n.id);e&&r&&a&&function(t,e,r){var n=e.scene,a=e.camera,o=r.left,i=r.bottom,s=r.width,c=r.height;t.setScissor(o,i,s,c),t.setViewport(o,i,s,c),t.render(n,a)}(e,n,a)};return{initRendering:function(a){t=new s(a),r=a,(e=new n.h({canvas:r,alpha:!0,antialias:!0,preserveDrawingBuffer:!0})).setScissorTest(!0),e.setClearColor(0,0),i(),h(),window.addEventListener("scroll",i),window.addEventListener("resize",h)},dispose:function(){e&&e.dispose(),a.dispose(),window.removeEventListener("scroll",i),window.removeEventListener("resize",h)},render:d,addChartScene:function(t,e){void 0===e&&(e=!0),a.add(t,e)},removeChartScene:function(e){a.remove(e),t.removeChartScene(e),o()},setChartRect:function(e,r){t.updateChartScene(e,r),o()},updateViewPorts:a.syncViewPortGroup,onResolutionChange:function(){h()}}}()},1089:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n={width:100,height:100}},1090:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n={width:100,height:100}},1091:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(t,e){return Math.abs(t(new Date(e).getTime())-t(new Date(0).getTime()))}},1092:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(t,e){return Math.abs(t(new Date(e).getTime())-t(new Date(0).getTime()))}},1111:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return f})),r.d(e,"d",(function(){return p})),r(76);var n=r(1077),a=r(1075),o=r(1087),i=r(1091),s=1,c=33.5,u=[165,165,165],h=function(t){var e=t.dataStreams,r=t.mesh,n=t.toClipSpace,h=t.thresholds,d=t.thresholdOptions,l=t.chartSize,f=t.alarms,p=e.map((function(t){return Object(o.f)(t,t.resolution)}));r.count=function(t){return t.reduce((function(t,e){return t+Math.max(e.length,0)}),0)}(p);var v=r.geometry.attributes,w=v.color,m=v.status,g=0,S=0,b=s/e.length,C=c/l.height,y=b-C;p.forEach((function(t,e){t.forEach((function(r,c){var l=(t[c+1]||[])[0],p=void 0===l?void 0:l,v=r[0],C=r[1],P=Object(a.a)(C,h);if(null!=P&&d.showColor){var O=Object(o.d)(P.color),M=O[0],x=O[1],z=O[2];w.array[S]=M,w.array[S+1]=x,w.array[S+2]=z}else{var j=u[0],R=u[1],E=u[2];w.array[S]=j,w.array[S+1]=R,w.array[S+2]=E}S+=3,m.array[g]=n(v),m.array[g+1]=s-b*(e+1),m.array[g+2]=function(t){var e=t.nextX,r=t.currX,n=t.toClipSpace,a=t.alarms,o=a?a.expires:void 0;if(null!=o){var s=Object(i.a)(n,o);return null==e?s:Math.min(Object(i.a)(n,e-r),s)}return null!=e?Object(i.a)(n,e-r):Object(i.a)(n,Date.now()-r)}({currX:v,nextX:p,toClipSpace:n,alarms:f}),m.array[g+3]=y,g+=4}))})),m.needsUpdate=!0,w.needsUpdate=!0},d=[0,0,0,1,1,0,0,1,1,0,1,1],l=function(t){var e=t.alarms,r=t.dataStreams,a=t.toClipSpace,i=t.bufferFactor,s=t.minBufferSize,c=t.thresholdOptions,u=t.thresholds,l=t.chartSize,f=new n.c,p=Math.max(s,Object(o.e)(r)*i);!function(t,e){t.setAttribute("position",new n.i(new Float32Array(d),2)),t.setAttribute("status",new n.k(new Float32Array(4*e),4,!1)),t.setAttribute("color",new n.k(new Uint8Array(3*e),3,!0))}(f,p);var v=new n.f({vertexShader:"\nprecision highp float;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nattribute vec4 status;\nattribute vec2 position;\nattribute vec3 color;\nvarying vec3 vColor;\n\nvoid main() {\n  float width = status.z;\n  float height = status.w;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position.x * width + status.x, position.y * height + status.y, 0.0, 1.0);\n  vColor = color;\n}\n",fragmentShader:"\nprecision highp float;\nvarying vec3 vColor;\n\nvoid main() {\n  gl_FragColor = vec4(vColor, 1.0);\n}\n",side:n.b,transparent:!1}),w=new n.j(f,v,p);return h({dataStreams:r,mesh:w,toClipSpace:a,thresholds:u,thresholdOptions:c,chartSize:l,alarms:e}),w.frustumCulled=!1,w},f=function(t){var e=t.alarms,r=t.dataStreams,a=t.container,i=t.viewPort,s=t.bufferFactor,c=t.minBufferSize,u=t.onUpdate,h=t.thresholdOptions,d=t.thresholds,f=t.chartSize,p=new n.l,v=Object(o.a)(i);return p.add(l({alarms:e,dataStreams:r,toClipSpace:v,bufferFactor:s,minBufferSize:c,thresholdOptions:h,thresholds:d,chartSize:f})),Object(o.c)({scene:p,viewPort:i,container:a,toClipSpace:v,onUpdate:u})},p=function(t){var e=t.scene,r=t.alarms,n=t.dataStreams,a=t.minBufferSize,i=t.bufferFactor,s=t.viewPort,c=t.container,u=t.onUpdate,d=t.chartSize,l=t.thresholdOptions,p=t.thresholds,v=t.hasDataChanged,w=t.hasAnnotationChanged,m=t.hasSizeChanged,g=e.scene.children[0];return function(t){return t.geometry.attributes.status.array.length/4}(g)<Object(o.e)(n)||Object(o.b)(s,e.toClipSpace)?f({onUpdate:u,dataStreams:n,alarms:r,container:c,viewPort:s,minBufferSize:a,bufferFactor:i,chartSize:d,thresholdOptions:l,thresholds:p}):(function(t){var e=t.alarms,r=t.statuses,n=t.dataStreams,a=t.toClipSpace,o=t.thresholdOptions,i=t.thresholds,s=t.chartSize,c=t.hasDataChanged,u=t.hasAnnotationChanged,d=t.hasSizeChanged;(c||u||d)&&h({dataStreams:n,mesh:r,toClipSpace:a,thresholds:i,thresholdOptions:o,chartSize:s,alarms:e})}({alarms:r,statuses:g,dataStreams:n,toClipSpace:e.toClipSpace,thresholdOptions:l,thresholds:p,chartSize:d,hasDataChanged:v,hasAnnotationChanged:w,hasSizeChanged:m}),e)}},1113:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return f})),r.d(e,"d",(function(){return p})),r(1073);var n=r(1078),a=r(1076),o=r(1088),i=r(1092),s=1,c=33.5,u=[165,165,165],h=function(t){var e=t.dataStreams,r=t.mesh,n=t.toClipSpace,h=t.thresholds,d=t.thresholdOptions,l=t.chartSize,f=t.alarms,p=e.map((function(t){return Object(o.f)(t,t.resolution)}));r.count=function(t){return t.reduce((function(t,e){return t+Math.max(e.length,0)}),0)}(p);var v=r.geometry.attributes,w=v.color,m=v.status,g=0,S=0,b=s/e.length,C=c/l.height,y=b-C;p.forEach((function(t,e){t.forEach((function(r,c){var l=(t[c+1]||[])[0],p=void 0===l?void 0:l,v=r[0],C=r[1],P=Object(a.a)(C,h);if(null!=P&&d.showColor){var O=Object(o.d)(P.color),M=O[0],x=O[1],z=O[2];w.array[S]=M,w.array[S+1]=x,w.array[S+2]=z}else{var j=u[0],R=u[1],E=u[2];w.array[S]=j,w.array[S+1]=R,w.array[S+2]=E}S+=3,m.array[g]=n(v),m.array[g+1]=s-b*(e+1),m.array[g+2]=function(t){var e=t.nextX,r=t.currX,n=t.toClipSpace,a=t.alarms,o=a?a.expires:void 0;if(null!=o){var s=Object(i.a)(n,o);return null==e?s:Math.min(Object(i.a)(n,e-r),s)}return null!=e?Object(i.a)(n,e-r):Object(i.a)(n,Date.now()-r)}({currX:v,nextX:p,toClipSpace:n,alarms:f}),m.array[g+3]=y,g+=4}))})),m.needsUpdate=!0,w.needsUpdate=!0},d=[0,0,0,1,1,0,0,1,1,0,1,1],l=function(t){var e=t.alarms,r=t.dataStreams,a=t.toClipSpace,i=t.bufferFactor,s=t.minBufferSize,c=t.thresholdOptions,u=t.thresholds,l=t.chartSize,f=new n.c,p=Math.max(s,Object(o.e)(r)*i);!function(t,e){t.setAttribute("position",new n.i(new Float32Array(d),2)),t.setAttribute("status",new n.k(new Float32Array(4*e),4,!1)),t.setAttribute("color",new n.k(new Uint8Array(3*e),3,!0))}(f,p);var v=new n.f({vertexShader:"\nprecision highp float;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nattribute vec4 status;\nattribute vec2 position;\nattribute vec3 color;\nvarying vec3 vColor;\n\nvoid main() {\n  float width = status.z;\n  float height = status.w;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position.x * width + status.x, position.y * height + status.y, 0.0, 1.0);\n  vColor = color;\n}\n",fragmentShader:"\nprecision highp float;\nvarying vec3 vColor;\n\nvoid main() {\n  gl_FragColor = vec4(vColor, 1.0);\n}\n",side:n.b,transparent:!1}),w=new n.j(f,v,p);return h({dataStreams:r,mesh:w,toClipSpace:a,thresholds:u,thresholdOptions:c,chartSize:l,alarms:e}),w.frustumCulled=!1,w},f=function(t){var e=t.alarms,r=t.dataStreams,a=t.container,i=t.viewPort,s=t.bufferFactor,c=t.minBufferSize,u=t.onUpdate,h=t.thresholdOptions,d=t.thresholds,f=t.chartSize,p=new n.l,v=Object(o.a)(i);return p.add(l({alarms:e,dataStreams:r,toClipSpace:v,bufferFactor:s,minBufferSize:c,thresholdOptions:h,thresholds:d,chartSize:f})),Object(o.c)({scene:p,viewPort:i,container:a,toClipSpace:v,onUpdate:u})},p=function(t){var e=t.scene,r=t.alarms,n=t.dataStreams,a=t.minBufferSize,i=t.bufferFactor,s=t.viewPort,c=t.container,u=t.onUpdate,d=t.chartSize,l=t.thresholdOptions,p=t.thresholds,v=t.hasDataChanged,w=t.hasAnnotationChanged,m=t.hasSizeChanged,g=e.scene.children[0];return function(t){return t.geometry.attributes.status.array.length/4}(g)<Object(o.e)(n)||Object(o.b)(s,e.toClipSpace)?f({onUpdate:u,dataStreams:n,alarms:r,container:c,viewPort:s,minBufferSize:a,bufferFactor:i,chartSize:d,thresholdOptions:l,thresholds:p}):(function(t){var e=t.alarms,r=t.statuses,n=t.dataStreams,a=t.toClipSpace,o=t.thresholdOptions,i=t.thresholds,s=t.chartSize,c=t.hasDataChanged,u=t.hasAnnotationChanged,d=t.hasSizeChanged;(c||u||d)&&h({dataStreams:n,mesh:r,toClipSpace:a,thresholds:i,thresholdOptions:o,chartSize:s,alarms:e})}({alarms:r,statuses:g,dataStreams:n,toClipSpace:e.toClipSpace,thresholdOptions:l,thresholds:p,chartSize:d,hasDataChanged:v,hasAnnotationChanged:w,hasSizeChanged:m}),e)}},941:function(t,e,r){"use strict";r.r(e),r.d(e,"single_colored_status",(function(){return f}));var n=r(108),a=(r(54),r(68)),o=r(76),i=(r(1077),r(1085)),s=(r(1075),r(1083),r(1094),r(1095),r(1087),r(1079),r(1089)),c=(r(1091),r(1111)),u=new Date(2e3,0,0),h=new Date(2e3,0,1),d=h.getTime()-u.getTime(),l={x:u.getTime()+d/3,y:123},f=function(){function t(t){Object(n.h)(this,t)}return t.prototype.componentDidLoad=function(){var t,e=this.el.querySelector("#test-container"),r=Object(c.c)({alarms:{expires:o.a},viewPort:{start:u,end:h,yMin:0,yMax:c.a},dataStreams:[{id:"test-stream",name:"test-stream-name",color:"red",aggregates:(t={},t[o.a]=[l],t),data:[],resolution:o.a,dataType:a.b.NUMBER}],container:e,chartSize:s.a,minBufferSize:100,bufferFactor:2,thresholdOptions:{showColor:!1},thresholds:[]});i.b.addChartScene(r);var n=e.getBoundingClientRect();i.b.setChartRect(r.id,Object.assign({density:1},n.toJSON()))},t.prototype.render=function(){return Object(n.g)("monitor-webgl-context",null,Object(n.g)("div",{id:"test-container",style:{width:s.a.width+"px",height:s.a.height+"px"}}))},Object.defineProperty(t.prototype,"el",{get:function(){return Object(n.f)(this)},enumerable:!0,configurable:!0}),t}()}}]);