(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{1004:function(t,n,e){"use strict";e.r(n),e.d(n,"bp_mocked_source_widget",(function(){return w})),e.d(n,"monitor_demo",(function(){return k}));var o=e(61),a=e(1130),i=e(1135),r=e(1132),s=e(1133),l=(e(1131),e(1134)),c=e(1169),h=(e(1139),e(1153),e(1147)),d=e(1141),u=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var o=Array(t),a=0;for(n=0;n<e;n++)for(var i=arguments[n],r=0,s=i.length;r<s;r++,a++)o[a]=i[r];return o},g=["#0073bb","#dd6b10","#1d8102","#8b3333"],b="some-id-3",m=[{id:"some-id-1",resolution:l.a,name:"Asset 1",detailedName:"Asset 1 - Factory 1",color:g[0],unit:"m/s",dataType:a.a.NUMBER},{id:"some-id-2",resolution:l.a,name:"Asset 2",detailedName:"Asset 2 - Factory 2",color:g[1],unit:"m/s",dataType:a.a.NUMBER},{id:b,resolution:l.a,name:"Asset 3",detailedName:"Asset 3 - Factory 3",color:g[2],dataType:a.a.STRING}],f={widgetId:"fake-id",legend:c.a.legend,viewPort:{start:new Date(1998,0,0),end:new Date(2e3,0,1)},dataStreamInfo:m},O=l.d,j=function(t,n){return 5*Math.sin(t/(8*n))+Math.pow(3*Math.random(),2)+Math.log(t)+100+Math.random()/10+Math.random()/100+Math.random()/1e3},p=function(t){return Math.floor(t/l.a)*l.a},v=function(t){var n=t.error;return function(t){var e=t.onError,o=t.resolution,i=t.onSuccess,r=t.request,s=t.dataStreamId;setTimeout((function(){if(n)e(s,o,"always throw error mode is on! expected error");else{var t=function(t){for(var n,e=t.start,o=t.end,i=t.streamId,r=t.resolution,s=p(e.getTime()),l=[],c=["UP","DOWN","CENTER","1"];s<=o.getTime();)if(s+=r,Math.random()>=.1){var h=i===b?c[Math.floor(Math.random()*c.length)]:j(s,r);l.push({x:p(s),y:h})}return{id:i,name:i,resolution:r,data:[],aggregates:(n={},n[r]=l,n),dataType:i===b?a.a.STRING:a.a.NUMBER}}({resolution:o,streamId:s,start:r.start,end:r.end});i(s,t,r.start,r.end)}}),O)}}({error:!1}),w=function(){function t(t){Object(o.i)(this,t),this.error=!1}return t.prototype.render=function(){var t=this;return Object(o.h)("monitor-lazily-load",{renderFunc:function(){return Object(o.h)("monitor-dynamic-widget",{widgetId:t.widgetId,tableColumns:t.tableColumns,componentTag:t.componentTag,onRequestData:v,isEditing:t.isEditing,viewPort:t.viewPort,size:t.size,legend:t.legend,annotations:t.annotations,trends:t.trends,axis:t.axis,dataStreamInfo:t.dataStreamInfo,invalidTagErrorHeader:"Widget failed to load",invalidTagErrorSubheader:"Please try again later or contact an admin for help."})}})},t}(),y={GTE:">=",GT:">",LTE:"<=",LT:"<",EQ:"="},C=function(t){var n=t.threshold,e=t.removeThreshold,a=t.thresholdId,i=n.color,r=n.value,s=n.comparisonOperator;return Object(o.h)("tr",{key:n.value+"---"+n.comparisonOperator,class:"threshold-list-item-container"},Object(o.h)("td",{class:"color-container"},Object(o.h)("div",{class:"color-block",style:{background:i}})),Object(o.h)("td",null,r),Object(o.h)("td",null,y[s]),Object(o.h)("td",null,Object(o.h)("button",{onClick:function(){return e(a)}},Object(o.h)("strong",null,"X"))))},T=function(t){var n=t.dataStreamName,e=t.trend,a=t.removeTrendLine;return Object(o.h)("tr",{key:e.dataStreamId+"---"+e.type,class:"trend-line-list-item-container"},Object(o.h)("td",{class:"color-container"},Object(o.h)("div",{class:"color-block",style:{background:e.color}})),Object(o.h)("td",null,n),Object(o.h)("td",null,Object(o.h)("button",{onClick:function(){return a(e.dataStreamId,e.type)}},Object(o.h)("strong",null,"X"))))},x=[{duration:30*l.d,label:"Last 30 Seconds"},{duration:10*l.c,label:"Last Ten Minutes"},{duration:l.b,label:"Last Hour"},{duration:l.a,label:"Last Day"},{duration:l.f,label:"Last Month"},{duration:l.e,label:"Last Year"},{duration:10*l.e,label:"Last Decade"}],S=function(t){var n=t.duration,e=t.changeDuration;return Object(o.h)("label",{htmlFor:"duration-select",style:{marginLeft:"12px"}},Object(o.h)("strong",null,"Viewing: "),Object(o.h)("select",{id:"duration-select",onChange:function(t){if(null!=t&&null!=t.target){var n=t.target.value;e(n)}}},Object(o.h)("option",{disabled:!0,value:-1,selected:-1===n},"Fixed Time Range"),x.map((function(t){var e=t.label,a=t.duration;return Object(o.h)("option",{key:e,selected:n===a,value:a},e)}))))},I=7*l.a,E=["#0073bb","#dd6b10","#1d8102","#8b3333"],A=30*l.c,D=[{header:"Property",rows:[]},{header:"Property 2",rows:[]},{header:"Property 3",rows:[]}],k=function(){function t(t){var n=this;Object(o.i)(this,t),this.isEditing=!1,this.config=Object.assign(Object.assign({},f),{viewPort:Object.assign(Object.assign({},f.viewPort),{start:new Date(1998,0,0),end:new Date(1998,1,0)})}),this.height=380,this.viewPortDuration=A,this.isBottomLegend=!0,this.numCharts=1,this.componentTag="monitor-line-chart",this.annotationColor="#d13212",this.annotationValue=0,this.annotationComp=r.a.LESS_THAN,this.annotations={x:[],y:[],thresholdOptions:{showColor:!0}},this.trendDataId="",this.trendType=i.a.LINEAR,this.trendColor="black",this.trends=[],this.axis={},this.isDurationMode=!1,this.updateViewPortToNow=function(){n.config=Object.assign(Object.assign({},n.config),{viewPort:Object.assign(Object.assign({},n.config.viewPort),{lastUpdatedBy:void 0,end:new Date,start:new Date((new Date).getTime()-n.viewPortDuration)})})},this.tableColumns=function(){return D.map((function(t){return Object.assign(Object.assign({},t),{rows:n.config.dataStreamInfo.map((function(t){return t.id}))})}))},this.toggleIsEditing=function(){n.isEditing=!n.isEditing},this.increaseYMax=function(){n.config=Object.assign(Object.assign({},n.config),{viewPort:Object.assign(Object.assign({},n.config.viewPort),{yMax:n.config.viewPort.yMax||50})})},this.addStream=function(){var t=n.config.dataStreamInfo.length,e=E[t%E.length],o=(t+1).toString();n.config=null!=o?Object.assign(Object.assign({},n.config),{dataStreamInfo:u(n.config.dataStreamInfo,[{id:o,color:e,resolution:l.f,name:"Asset "+o,detailedName:"Asset "+o+" - Factor "+o,unit:"m/s",dataType:a.a.NUMBER}])}):Object.assign(Object.assign({},n.config),{dataStreamInfo:u(n.config.dataStreamInfo,[{id:"non-existent-stream-"+(t+1),resolution:l.c,color:"black",name:"a pretty cool stream "+t,unit:"M",dataType:a.a.NUMBER}])})},this.removeStream=function(){n.config=Object.assign(Object.assign({},n.config),{dataStreamInfo:n.config.dataStreamInfo.slice(0,-1)})},this.toggleLegendPosition=function(){n.isBottomLegend=!n.isBottomLegend,n.config=Object.assign(Object.assign({},n.config),{legend:Object.assign(Object.assign({width:200},n.config.legend),{position:n.isBottomLegend?s.a.BOTTOM:s.a.RIGHT})})},this.increaseEndDate=function(){null!=n.config.viewPort.end&&(n.config=Object.assign(Object.assign({},n.config),{viewPort:Object.assign(Object.assign({},n.config.viewPort),{start:n.config.viewPort.start,end:new Date(n.config.viewPort.end.getTime()+6*I),lastUpdatedBy:void 0})}))},this.increaseStartDate=function(){if(null!=n.config.viewPort.start){var t=n.config.viewPort.start,e=new Date(n.config.viewPort.start.getTime()+6*I);e<t&&(n.config=Object.assign(Object.assign({},n.config),{viewPort:Object.assign(Object.assign({},n.config.viewPort),{end:n.config.viewPort.end,start:e,lastUpdatedBy:void 0})}))}},this.addChart=function(){n.numCharts+=1},this.removeChart=function(){n.numCharts-=1},this.changeComponent=function(t){n.componentTag=t.target.value},this.changeAnnotationColor=function(t){null!=t&&null!=t.target&&(n.annotationColor=t.target.value)},this.changeAnnotationValue=function(t){if(null!=t&&null!=t.target){var e=t.target.value;Object(h.a)(e)||(n.annotationValue=e),Object(h.a)(e)&&(n.annotationValue=Number(e))}},this.changeAnnotationComparator=function(t){null!=t&&null!=t.target&&(n.annotationComp=t.target.value)},this.saveThreshold=function(){var t={color:n.annotationColor,value:n.annotationValue,showValue:!0,comparisonOperator:n.annotationComp};null!=n.annotationName&&(t.label={text:n.annotationName,show:!0}),n.annotations=Object.assign(Object.assign({},n.annotations),{y:u(n.annotations.y||[],[t])}),n.annotationValue=0,n.annotationName=void 0},this.removeThreshold=function(t){if(null!=n.annotations&&null!=n.annotations.y&&0!==n.annotations.y.length){var e=n.annotations.y;n.annotations=Object.assign(Object.assign({},n.annotations),{y:e.filter((function(n,e){return e!==t}))})}},this.getThresholds=function(){return n.annotations&&n.annotations.y?n.annotations.y.filter(d.i):[]},this.doesThresholdExist=function(){return n.getThresholds().some((function(t){return t.value===n.annotationValue&&t.comparisonOperator===n.annotationComp}))},this.changeDuration=function(t){n.duration=t,n.config=Object.assign(Object.assign({},n.config),{viewPort:Object.assign(Object.assign({},n.config.viewPort),{lastUpdatedBy:void 0,start:new Date(Date.now()-t),end:new Date,duration:t})})},this.changeTrendDataId=function(t){if(null!=t&&null!=t.target){n.trendDataId=t.target.value;var e=n.config.dataStreamInfo.find((function(t){return t.id===n.trendDataId}));e&&(n.trendColor=e.color||"black")}},this.changeTrendType=function(t){null!=t&&null!=t.target&&(n.trendType=t.target.value)},this.changeTrendColor=function(t){null!=t&&null!=t.target&&(n.trendColor=t.target.value)},this.doesTrendExist=function(){return""===n.trendDataId||n.trends.some((function(t){return t.dataStreamId===n.trendDataId&&t.type===n.trendType}))},this.addTrend=function(){n.doesTrendExist()||(n.trends=u(n.trends,[{type:n.trendType,dataStreamId:n.trendDataId,color:n.trendColor}]))},this.removeTrend=function(t,e){n.trends=n.trends.filter((function(n){return n.dataStreamId!==t||n.type!==e}))},this.toggleThresholdColoration=function(){var t=n.annotations.thresholdOptions;if(null!=t){if("boolean"==typeof t)throw new Error("for demo we do not use boolean");n.annotations=Object.assign(Object.assign({},n.annotations),{thresholdOptions:Object.assign(Object.assign({},t),{showColor:!t.showColor})})}else n.annotations=Object.assign(Object.assign({},n.annotations),{thresholdOptions:{showColor:!0}})},this.isColorationEnabled=function(){if(null==n.annotations||null==n.annotations.thresholdOptions)return!0;var t=n.annotations.thresholdOptions;return"boolean"==typeof t?t:null==t.showColor||t.showColor},this.changeAxis=function(t){var e;if(null!=t&&null!=t.target){var o=t.target.name;n.axis=Object.assign(Object.assign({},n.axis),((e={})[o]=t.target.checked,e))}},this.showAnnotations=function(t){null!=t&&null!=t.target&&(n.annotations=Object.assign(Object.assign({},n.annotations),{show:t.target.checked}))},this.changeLabel=function(t){null!=t&&null!=t.target?n.axis=Object.assign(Object.assign({},n.axis),{labels:{yAxis:{content:t.target.value}}}):n.axis.labels=void 0}}return t.prototype.onWidgetUpdated=function(t){var n=t.detail;this.config=Object.assign(Object.assign({},this.config),n)},t.prototype.render=function(){var t=this;return Object(o.h)("bp-data-store",null,Object(o.h)("div",null,Object(o.h)("div",{style:{display:"flex"}},Object(o.h)("label",{htmlFor:"display"},Object(o.h)("strong",null,"Display: "),Object(o.h)("select",{id:"display",onChange:this.changeComponent},Object(o.h)("option",{value:"monitor-line-chart"},"Line Chart"),Object(o.h)("option",{value:"monitor-scatter-chart"},"Scatter Chart"),Object(o.h)("option",{value:"monitor-bar-chart"},"Bar Chart"),this.showAllControls&&Object(o.h)("option",{value:"monitor-status-chart"},"Status Timeline"),this.showAllControls&&Object(o.h)("option",{value:"monitor-status-grid"},"Status Grid"),this.showAllControls&&Object(o.h)("option",{value:"monitor-table"},"Table"),this.showAllControls&&Object(o.h)("option",{value:"monitor-kpi"},"KPI"),this.showAllControls&&Object(o.h)("option",{value:"monitor-latest-value"},"Latest Value"))),this.showAllControls&&Object(o.h)(S,{duration:this.isDurationMode?this.duration:-1,changeDuration:this.changeDuration}),Object(o.h)("div",{style:{flexGrow:"1"}}),Object(o.h)("div",null,Object(o.h)("button",{onClick:this.addChart},Object(o.h)("strong",null,"+")," Chart")," ",Object(o.h)("button",{onClick:this.removeChart,disabled:this.numCharts<=1},Object(o.h)("strong",null,"-")," Chart")," ","|"," ",Object(o.h)("button",{onClick:this.addStream},Object(o.h)("strong",null,"+")," Data")," ",Object(o.h)("button",{disabled:0===this.numCharts,onClick:this.removeStream},Object(o.h)("strong",null,"-")," Data")," ")),Object(o.h)("div",{style:{display:"flex",flexWrap:"wrap"}},new Array(this.numCharts).fill(0).map((function(n){return Object(o.h)("div",{class:"chart-container",style:{height:t.height+"px",width:"100%"}},Object(o.h)("bp-mocked-source-widget",{tableColumns:t.tableColumns(),componentTag:t.componentTag,widgetId:t.config.widgetId+n.toString(),isEditing:t.isEditing,viewPort:Object.assign(Object.assign({},t.config.viewPort),{duration:t.duration,group:"DEMO_GROUP"}),legend:t.config.legend,dataStreamInfo:t.config.dataStreamInfo,annotations:t.annotations,trends:t.trends,axis:t.axis}))}))),this.showAllControls&&Object(o.h)("span",null,Object(o.h)("button",{onClick:this.toggleLegendPosition},"Show legend on ",Object(o.h)("strong",null,this.isBottomLegend?"right":"bottom"))," ","| ",Object(o.h)("button",{onClick:this.toggleIsEditing},this.isEditing?"Disable":"Enable"," editing"),Object(o.h)("button",{onClick:this.increaseEndDate},"Increase end date")," ",Object(o.h)("button",{onClick:function(){t.height+=15}},"Increase height")," ",Object(o.h)("button",{onClick:function(){t.height-=15}},"Decrease height")," ",Object(o.h)("button",{onClick:this.increaseStartDate},"Increase start date")," |"," ",Object(o.h)("button",{onClick:this.toggleThresholdColoration},this.isColorationEnabled()?"Disable":"Enable"," threshold coloration")),Object(o.h)("div",{class:"configurations"},Object(o.h)("div",null,Object(o.h)("h2",null,"Thresholds"),Object(o.h)("table",{class:"configuration-table"},Object(o.h)("tr",null,Object(o.h)("th",null,"Color"),Object(o.h)("th",null,"Value"),Object(o.h)("th",null,"Comparator")),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("input",{style:{height:"18px"},type:"color",value:this.annotationColor,onChange:this.changeAnnotationColor})),Object(o.h)("td",null,Object(o.h)("input",Object.assign({style:{width:"60px"}},this.annotationComp!==r.a.EQUAL&&{type:"number"},{onChange:this.changeAnnotationValue,placeholder:"value",value:this.annotationValue}))),Object(o.h)("td",null,Object(o.h)("select",{onChange:this.changeAnnotationComparator},Object(o.h)("option",{value:r.a.LESS_THAN},"Less than ","'<'"),Object(o.h)("option",{value:r.a.LESS_THAN_EQUAL},"Less than or equal ","'<='"),Object(o.h)("option",{value:r.a.GREATER_THAN},"Greater than ","'>'"," "),Object(o.h)("option",{value:r.a.GREATER_THAN_EQUAL},"Greater than or equal ","'>='"," "),Object(o.h)("option",{value:r.a.EQUAL},"Equal '=' "))),Object(o.h)("td",null,Object(o.h)("button",{onClick:this.saveThreshold,disabled:this.doesThresholdExist()},"Add Threshold"))),this.getThresholds().map((function(n,e){return Object(o.h)(C,{threshold:n,thresholdId:e,removeThreshold:t.removeThreshold})})))),Object(o.h)("div",null,Object(o.h)("h2",null,"Trends"),Object(o.h)("table",{class:"configuration-table"},Object(o.h)("tr",null,Object(o.h)("th",null,"Color"),Object(o.h)("th",null,"Data Set")),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("input",{style:{height:"18px"},type:"color",value:this.trendColor,onChange:this.changeTrendColor})),Object(o.h)("td",null,Object(o.h)("select",{onChange:this.changeTrendDataId},Object(o.h)("option",{value:""},"Select a data set"),this.config.dataStreamInfo.map((function(t){var n=t.id,e=t.name;return Object(o.h)("option",{value:n},e)})))),Object(o.h)("td",null,Object(o.h)("button",{onClick:this.addTrend,disabled:this.doesTrendExist()},"Add Trend"))),this.trends.map((function(n){var e=t.config.dataStreamInfo.find((function(t){return t.id===n.dataStreamId}));return e?Object(o.h)(T,{dataStreamName:e.name,trend:n,removeTrendLine:t.removeTrend}):null})))),this.showAllControls&&Object(o.h)("div",null,Object(o.h)("h2",null,"Options"),Object(o.h)("div",{class:"options"},Object(o.h)("div",{class:"option"},Object(o.h)("input",{type:"checkbox",checked:!0,onChange:this.changeAxis,name:"showX"}),Object(o.h)("label",{htmlFor:"showX"},"Show X axis")),Object(o.h)("div",{class:"option"},Object(o.h)("input",{type:"checkbox",checked:!0,onChange:this.changeAxis,name:"showY"}),Object(o.h)("label",{htmlFor:"showY"},"Show Y axis")),Object(o.h)("div",{class:"option"},Object(o.h)("input",{type:"checkbox",checked:!0,onChange:this.showAnnotations,name:"showAnnotations"}),Object(o.h)("label",{htmlFor:"showAnnotations"},"Show annotation lines and values")),Object(o.h)("div",{class:"option"},Object(o.h)("input",{type:"text",name:"Y-axis label",onChange:this.changeLabel}),Object(o.h)("label",{htmlFor:"Y-axis label"},"Show label for Y-axis")))))))},t}();k.style="html{font-size:10px;font-family:'Amazon Ember', Helvetica, Arial, sans-serif}h2{margin:0;padding:10px 0 0}.control-container{display:-ms-flexbox;display:flex}.configuration-table{overflow-y:auto;margin:5px 0}.configuration-table th{text-align:left;padding-bottom:3px}.configurations{display:-ms-flexbox;display:flex}.configurations>div{padding-right:2em}.threshold-list-item-container,.trend-line-list-item-container{padding:3px 0}.color-block{height:12px;width:12px}monitor-demo .chart-container{margin-top:10px}monitor-demo .options{margin-top:5px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}monitor-demo .options .option{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-top:3px}monitor-demo .options .option input{margin-right:2px}"},1131:function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"d",(function(){return r})),e.d(n,"e",(function(){return s}));var o="-",a="No properties or alarms",i="This widget doesn't have any properties or alarms.",r="No data",s="There's no data to display for this time range."},1133:function(t,n,e){"use strict";var o,a;e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return o})),function(t){t.TimeSeries="time-series",t.Log="log",t.Linear="linear"}(o||(o={})),function(t){t.RIGHT="RIGHT",t.BOTTOM="BOTTOM"}(a||(a={}))},1135:function(t,n,e){"use strict";var o;e.d(n,"a",(function(){return o})),e(1130),e(1132),e(1133),e(1131),e(1134),function(t){t.LINEAR="linear-regression"}(o||(o={}))},1166:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return r}));var o=e(99),a={widgetId:"fake-id",viewPort:{start:new Date(1995,0,0,0),end:new Date(2020,1,0,0),yMin:0,yMax:1e4},size:{width:475,height:350,marginLeft:50,marginRight:40,marginTop:24,marginBottom:30},movement:{enableXScroll:!0,enableYScroll:!1,zoomMax:1/0,zoomMin:1e-5},layout:{xGridVisible:!1,yGridVisible:!0,xTicksVisible:!0,yTicksVisible:!0},scale:{xScaleType:o.b.TimeSeries,yScaleType:o.b.Linear,xScaleSide:"bottom",yScaleSide:"left"},dataStreams:[],legend:{position:o.a.BOTTOM,width:170}},i={showColor:!0},r={showColor:!1}},1169:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return r}));var o=e(1133),a={widgetId:"fake-id",viewPort:{start:new Date(1995,0,0,0),end:new Date(2020,1,0,0),yMin:0,yMax:1e4},size:{width:475,height:350,marginLeft:50,marginRight:40,marginTop:24,marginBottom:30},movement:{enableXScroll:!0,enableYScroll:!1,zoomMax:1/0,zoomMin:1e-5},layout:{xGridVisible:!1,yGridVisible:!0,xTicksVisible:!0,yTicksVisible:!0},scale:{xScaleType:o.b.TimeSeries,yScaleType:o.b.Linear,xScaleSide:"bottom",yScaleSide:"left"},dataStreams:[],legend:{position:o.a.BOTTOM,width:170}},i={showColor:!0},r={showColor:!1}},863:function(t,n,e){"use strict";e.r(n),e.d(n,"bp_mocked_source_widget",(function(){return w})),e.d(n,"monitor_demo",(function(){return k}));var o=e(60),a=e(42),i=e(138),r=e(68),s=e(99),l=(e(51),e(69)),c=e(1166),h=(e(1137),e(1152),e(1146)),d=e(1140),u=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var o=Array(t),a=0;for(n=0;n<e;n++)for(var i=arguments[n],r=0,s=i.length;r<s;r++,a++)o[a]=i[r];return o},g=["#0073bb","#dd6b10","#1d8102","#8b3333"],b="some-id-3",m=[{id:"some-id-1",resolution:l.a,name:"Asset 1",detailedName:"Asset 1 - Factory 1",color:g[0],unit:"m/s",dataType:a.a.NUMBER},{id:"some-id-2",resolution:l.a,name:"Asset 2",detailedName:"Asset 2 - Factory 2",color:g[1],unit:"m/s",dataType:a.a.NUMBER},{id:b,resolution:l.a,name:"Asset 3",detailedName:"Asset 3 - Factory 3",color:g[2],dataType:a.a.STRING}],f={widgetId:"fake-id",legend:c.a.legend,viewPort:{start:new Date(1998,0,0),end:new Date(2e3,0,1)},dataStreamInfo:m},O=l.d,j=function(t,n){return 5*Math.sin(t/(8*n))+Math.pow(3*Math.random(),2)+Math.log(t)+100+Math.random()/10+Math.random()/100+Math.random()/1e3},p=function(t){return Math.floor(t/l.a)*l.a},v=function(t){var n=t.error;return function(t){var e=t.onError,o=t.resolution,i=t.onSuccess,r=t.request,s=t.dataStreamId;setTimeout((function(){if(n)e(s,o,"always throw error mode is on! expected error");else{var t=function(t){for(var n,e=t.start,o=t.end,i=t.streamId,r=t.resolution,s=p(e.getTime()),l=[],c=["UP","DOWN","CENTER","1"];s<=o.getTime();)if(s+=r,Math.random()>=.1){var h=i===b?c[Math.floor(Math.random()*c.length)]:j(s,r);l.push({x:p(s),y:h})}return{id:i,name:i,resolution:r,data:[],aggregates:(n={},n[r]=l,n),dataType:i===b?a.a.STRING:a.a.NUMBER}}({resolution:o,streamId:s,start:r.start,end:r.end});i(s,t,r.start,r.end)}}),O)}}({error:!1}),w=function(){function t(t){Object(o.i)(this,t),this.error=!1}return t.prototype.render=function(){var t=this;return Object(o.h)("monitor-lazily-load",{renderFunc:function(){return Object(o.h)("monitor-dynamic-widget",{widgetId:t.widgetId,tableColumns:t.tableColumns,componentTag:t.componentTag,onRequestData:v,isEditing:t.isEditing,viewPort:t.viewPort,size:t.size,legend:t.legend,annotations:t.annotations,trends:t.trends,axis:t.axis,dataStreamInfo:t.dataStreamInfo,invalidTagErrorHeader:"Widget failed to load",invalidTagErrorSubheader:"Please try again later or contact an admin for help."})}})},t}(),y={GTE:">=",GT:">",LTE:"<=",LT:"<",EQ:"="},C=function(t){var n=t.threshold,e=t.removeThreshold,a=t.thresholdId,i=n.color,r=n.value,s=n.comparisonOperator;return Object(o.h)("tr",{key:n.value+"---"+n.comparisonOperator,class:"threshold-list-item-container"},Object(o.h)("td",{class:"color-container"},Object(o.h)("div",{class:"color-block",style:{background:i}})),Object(o.h)("td",null,r),Object(o.h)("td",null,y[s]),Object(o.h)("td",null,Object(o.h)("button",{onClick:function(){return e(a)}},Object(o.h)("strong",null,"X"))))},T=function(t){var n=t.dataStreamName,e=t.trend,a=t.removeTrendLine;return Object(o.h)("tr",{key:e.dataStreamId+"---"+e.type,class:"trend-line-list-item-container"},Object(o.h)("td",{class:"color-container"},Object(o.h)("div",{class:"color-block",style:{background:e.color}})),Object(o.h)("td",null,n),Object(o.h)("td",null,Object(o.h)("button",{onClick:function(){return a(e.dataStreamId,e.type)}},Object(o.h)("strong",null,"X"))))},x=[{duration:30*l.d,label:"Last 30 Seconds"},{duration:10*l.c,label:"Last Ten Minutes"},{duration:l.b,label:"Last Hour"},{duration:l.a,label:"Last Day"},{duration:l.f,label:"Last Month"},{duration:l.e,label:"Last Year"},{duration:10*l.e,label:"Last Decade"}],S=function(t){var n=t.duration,e=t.changeDuration;return Object(o.h)("label",{htmlFor:"duration-select",style:{marginLeft:"12px"}},Object(o.h)("strong",null,"Viewing: "),Object(o.h)("select",{id:"duration-select",onChange:function(t){if(null!=t&&null!=t.target){var n=t.target.value;e(n)}}},Object(o.h)("option",{disabled:!0,value:-1,selected:-1===n},"Fixed Time Range"),x.map((function(t){var e=t.label,a=t.duration;return Object(o.h)("option",{key:e,selected:n===a,value:a},e)}))))},I=7*l.a,E=["#0073bb","#dd6b10","#1d8102","#8b3333"],A=30*l.c,D=[{header:"Property",rows:[]},{header:"Property 2",rows:[]},{header:"Property 3",rows:[]}],k=function(){function t(t){var n=this;Object(o.i)(this,t),this.isEditing=!1,this.config=Object.assign(Object.assign({},f),{viewPort:Object.assign(Object.assign({},f.viewPort),{start:new Date(1998,0,0),end:new Date(1998,1,0)})}),this.height=380,this.viewPortDuration=A,this.isBottomLegend=!0,this.numCharts=1,this.componentTag="monitor-line-chart",this.annotationColor="#d13212",this.annotationValue=0,this.annotationComp=r.a.LESS_THAN,this.annotations={x:[],y:[],thresholdOptions:{showColor:!0}},this.trendDataId="",this.trendType=i.q.LINEAR,this.trendColor="black",this.trends=[],this.axis={},this.isDurationMode=!1,this.updateViewPortToNow=function(){n.config=Object.assign(Object.assign({},n.config),{viewPort:Object.assign(Object.assign({},n.config.viewPort),{lastUpdatedBy:void 0,end:new Date,start:new Date((new Date).getTime()-n.viewPortDuration)})})},this.tableColumns=function(){return D.map((function(t){return Object.assign(Object.assign({},t),{rows:n.config.dataStreamInfo.map((function(t){return t.id}))})}))},this.toggleIsEditing=function(){n.isEditing=!n.isEditing},this.increaseYMax=function(){n.config=Object.assign(Object.assign({},n.config),{viewPort:Object.assign(Object.assign({},n.config.viewPort),{yMax:n.config.viewPort.yMax||50})})},this.addStream=function(){var t=n.config.dataStreamInfo.length,e=E[t%E.length],o=(t+1).toString();n.config=null!=o?Object.assign(Object.assign({},n.config),{dataStreamInfo:u(n.config.dataStreamInfo,[{id:o,color:e,resolution:l.f,name:"Asset "+o,detailedName:"Asset "+o+" - Factor "+o,unit:"m/s",dataType:a.a.NUMBER}])}):Object.assign(Object.assign({},n.config),{dataStreamInfo:u(n.config.dataStreamInfo,[{id:"non-existent-stream-"+(t+1),resolution:l.c,color:"black",name:"a pretty cool stream "+t,unit:"M",dataType:a.a.NUMBER}])})},this.removeStream=function(){n.config=Object.assign(Object.assign({},n.config),{dataStreamInfo:n.config.dataStreamInfo.slice(0,-1)})},this.toggleLegendPosition=function(){n.isBottomLegend=!n.isBottomLegend,n.config=Object.assign(Object.assign({},n.config),{legend:Object.assign(Object.assign({width:200},n.config.legend),{position:n.isBottomLegend?s.a.BOTTOM:s.a.RIGHT})})},this.increaseEndDate=function(){null!=n.config.viewPort.end&&(n.config=Object.assign(Object.assign({},n.config),{viewPort:Object.assign(Object.assign({},n.config.viewPort),{start:n.config.viewPort.start,end:new Date(n.config.viewPort.end.getTime()+6*I),lastUpdatedBy:void 0})}))},this.increaseStartDate=function(){if(null!=n.config.viewPort.start){var t=n.config.viewPort.start,e=new Date(n.config.viewPort.start.getTime()+6*I);e<t&&(n.config=Object.assign(Object.assign({},n.config),{viewPort:Object.assign(Object.assign({},n.config.viewPort),{end:n.config.viewPort.end,start:e,lastUpdatedBy:void 0})}))}},this.addChart=function(){n.numCharts+=1},this.removeChart=function(){n.numCharts-=1},this.changeComponent=function(t){n.componentTag=t.target.value},this.changeAnnotationColor=function(t){null!=t&&null!=t.target&&(n.annotationColor=t.target.value)},this.changeAnnotationValue=function(t){if(null!=t&&null!=t.target){var e=t.target.value;Object(h.a)(e)||(n.annotationValue=e),Object(h.a)(e)&&(n.annotationValue=Number(e))}},this.changeAnnotationComparator=function(t){null!=t&&null!=t.target&&(n.annotationComp=t.target.value)},this.saveThreshold=function(){var t={color:n.annotationColor,value:n.annotationValue,showValue:!0,comparisonOperator:n.annotationComp};null!=n.annotationName&&(t.label={text:n.annotationName,show:!0}),n.annotations=Object.assign(Object.assign({},n.annotations),{y:u(n.annotations.y||[],[t])}),n.annotationValue=0,n.annotationName=void 0},this.removeThreshold=function(t){if(null!=n.annotations&&null!=n.annotations.y&&0!==n.annotations.y.length){var e=n.annotations.y;n.annotations=Object.assign(Object.assign({},n.annotations),{y:e.filter((function(n,e){return e!==t}))})}},this.getThresholds=function(){return n.annotations&&n.annotations.y?n.annotations.y.filter(d.i):[]},this.doesThresholdExist=function(){return n.getThresholds().some((function(t){return t.value===n.annotationValue&&t.comparisonOperator===n.annotationComp}))},this.changeDuration=function(t){n.duration=t,n.config=Object.assign(Object.assign({},n.config),{viewPort:Object.assign(Object.assign({},n.config.viewPort),{lastUpdatedBy:void 0,start:new Date(Date.now()-t),end:new Date,duration:t})})},this.changeTrendDataId=function(t){if(null!=t&&null!=t.target){n.trendDataId=t.target.value;var e=n.config.dataStreamInfo.find((function(t){return t.id===n.trendDataId}));e&&(n.trendColor=e.color||"black")}},this.changeTrendType=function(t){null!=t&&null!=t.target&&(n.trendType=t.target.value)},this.changeTrendColor=function(t){null!=t&&null!=t.target&&(n.trendColor=t.target.value)},this.doesTrendExist=function(){return""===n.trendDataId||n.trends.some((function(t){return t.dataStreamId===n.trendDataId&&t.type===n.trendType}))},this.addTrend=function(){n.doesTrendExist()||(n.trends=u(n.trends,[{type:n.trendType,dataStreamId:n.trendDataId,color:n.trendColor}]))},this.removeTrend=function(t,e){n.trends=n.trends.filter((function(n){return n.dataStreamId!==t||n.type!==e}))},this.toggleThresholdColoration=function(){var t=n.annotations.thresholdOptions;if(null!=t){if("boolean"==typeof t)throw new Error("for demo we do not use boolean");n.annotations=Object.assign(Object.assign({},n.annotations),{thresholdOptions:Object.assign(Object.assign({},t),{showColor:!t.showColor})})}else n.annotations=Object.assign(Object.assign({},n.annotations),{thresholdOptions:{showColor:!0}})},this.isColorationEnabled=function(){if(null==n.annotations||null==n.annotations.thresholdOptions)return!0;var t=n.annotations.thresholdOptions;return"boolean"==typeof t?t:null==t.showColor||t.showColor},this.changeAxis=function(t){var e;if(null!=t&&null!=t.target){var o=t.target.name;n.axis=Object.assign(Object.assign({},n.axis),((e={})[o]=t.target.checked,e))}},this.showAnnotations=function(t){null!=t&&null!=t.target&&(n.annotations=Object.assign(Object.assign({},n.annotations),{show:t.target.checked}))},this.changeLabel=function(t){null!=t&&null!=t.target?n.axis=Object.assign(Object.assign({},n.axis),{labels:{yAxis:{content:t.target.value}}}):n.axis.labels=void 0}}return t.prototype.onWidgetUpdated=function(t){var n=t.detail;this.config=Object.assign(Object.assign({},this.config),n)},t.prototype.render=function(){var t=this;return Object(o.h)("bp-data-store",null,Object(o.h)("div",null,Object(o.h)("div",{style:{display:"flex"}},Object(o.h)("label",{htmlFor:"display"},Object(o.h)("strong",null,"Display: "),Object(o.h)("select",{id:"display",onChange:this.changeComponent},Object(o.h)("option",{value:"monitor-line-chart"},"Line Chart"),Object(o.h)("option",{value:"monitor-scatter-chart"},"Scatter Chart"),Object(o.h)("option",{value:"monitor-bar-chart"},"Bar Chart"),this.showAllControls&&Object(o.h)("option",{value:"monitor-status-chart"},"Status Timeline"),this.showAllControls&&Object(o.h)("option",{value:"monitor-status-grid"},"Status Grid"),this.showAllControls&&Object(o.h)("option",{value:"monitor-table"},"Table"),this.showAllControls&&Object(o.h)("option",{value:"monitor-kpi"},"KPI"),this.showAllControls&&Object(o.h)("option",{value:"monitor-latest-value"},"Latest Value"))),this.showAllControls&&Object(o.h)(S,{duration:this.isDurationMode?this.duration:-1,changeDuration:this.changeDuration}),Object(o.h)("div",{style:{flexGrow:"1"}}),Object(o.h)("div",null,Object(o.h)("button",{onClick:this.addChart},Object(o.h)("strong",null,"+")," Chart")," ",Object(o.h)("button",{onClick:this.removeChart,disabled:this.numCharts<=1},Object(o.h)("strong",null,"-")," Chart")," ","|"," ",Object(o.h)("button",{onClick:this.addStream},Object(o.h)("strong",null,"+")," Data")," ",Object(o.h)("button",{disabled:0===this.numCharts,onClick:this.removeStream},Object(o.h)("strong",null,"-")," Data")," ")),Object(o.h)("div",{style:{display:"flex",flexWrap:"wrap"}},new Array(this.numCharts).fill(0).map((function(n){return Object(o.h)("div",{class:"chart-container",style:{height:t.height+"px",width:"100%"}},Object(o.h)("bp-mocked-source-widget",{tableColumns:t.tableColumns(),componentTag:t.componentTag,widgetId:t.config.widgetId+n.toString(),isEditing:t.isEditing,viewPort:Object.assign(Object.assign({},t.config.viewPort),{duration:t.duration,group:"DEMO_GROUP"}),legend:t.config.legend,dataStreamInfo:t.config.dataStreamInfo,annotations:t.annotations,trends:t.trends,axis:t.axis}))}))),this.showAllControls&&Object(o.h)("span",null,Object(o.h)("button",{onClick:this.toggleLegendPosition},"Show legend on ",Object(o.h)("strong",null,this.isBottomLegend?"right":"bottom"))," ","| ",Object(o.h)("button",{onClick:this.toggleIsEditing},this.isEditing?"Disable":"Enable"," editing"),Object(o.h)("button",{onClick:this.increaseEndDate},"Increase end date")," ",Object(o.h)("button",{onClick:function(){t.height+=15}},"Increase height")," ",Object(o.h)("button",{onClick:function(){t.height-=15}},"Decrease height")," ",Object(o.h)("button",{onClick:this.increaseStartDate},"Increase start date")," |"," ",Object(o.h)("button",{onClick:this.toggleThresholdColoration},this.isColorationEnabled()?"Disable":"Enable"," threshold coloration")),Object(o.h)("div",{class:"configurations"},Object(o.h)("div",null,Object(o.h)("h2",null,"Thresholds"),Object(o.h)("table",{class:"configuration-table"},Object(o.h)("tr",null,Object(o.h)("th",null,"Color"),Object(o.h)("th",null,"Value"),Object(o.h)("th",null,"Comparator")),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("input",{style:{height:"18px"},type:"color",value:this.annotationColor,onChange:this.changeAnnotationColor})),Object(o.h)("td",null,Object(o.h)("input",Object.assign({style:{width:"60px"}},this.annotationComp!==r.a.EQUAL&&{type:"number"},{onChange:this.changeAnnotationValue,placeholder:"value",value:this.annotationValue}))),Object(o.h)("td",null,Object(o.h)("select",{onChange:this.changeAnnotationComparator},Object(o.h)("option",{value:r.a.LESS_THAN},"Less than ","'<'"),Object(o.h)("option",{value:r.a.LESS_THAN_EQUAL},"Less than or equal ","'<='"),Object(o.h)("option",{value:r.a.GREATER_THAN},"Greater than ","'>'"," "),Object(o.h)("option",{value:r.a.GREATER_THAN_EQUAL},"Greater than or equal ","'>='"," "),Object(o.h)("option",{value:r.a.EQUAL},"Equal '=' "))),Object(o.h)("td",null,Object(o.h)("button",{onClick:this.saveThreshold,disabled:this.doesThresholdExist()},"Add Threshold"))),this.getThresholds().map((function(n,e){return Object(o.h)(C,{threshold:n,thresholdId:e,removeThreshold:t.removeThreshold})})))),Object(o.h)("div",null,Object(o.h)("h2",null,"Trends"),Object(o.h)("table",{class:"configuration-table"},Object(o.h)("tr",null,Object(o.h)("th",null,"Color"),Object(o.h)("th",null,"Data Set")),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("input",{style:{height:"18px"},type:"color",value:this.trendColor,onChange:this.changeTrendColor})),Object(o.h)("td",null,Object(o.h)("select",{onChange:this.changeTrendDataId},Object(o.h)("option",{value:""},"Select a data set"),this.config.dataStreamInfo.map((function(t){var n=t.id,e=t.name;return Object(o.h)("option",{value:n},e)})))),Object(o.h)("td",null,Object(o.h)("button",{onClick:this.addTrend,disabled:this.doesTrendExist()},"Add Trend"))),this.trends.map((function(n){var e=t.config.dataStreamInfo.find((function(t){return t.id===n.dataStreamId}));return e?Object(o.h)(T,{dataStreamName:e.name,trend:n,removeTrendLine:t.removeTrend}):null})))),this.showAllControls&&Object(o.h)("div",null,Object(o.h)("h2",null,"Options"),Object(o.h)("div",{class:"options"},Object(o.h)("div",{class:"option"},Object(o.h)("input",{type:"checkbox",checked:!0,onChange:this.changeAxis,name:"showX"}),Object(o.h)("label",{htmlFor:"showX"},"Show X axis")),Object(o.h)("div",{class:"option"},Object(o.h)("input",{type:"checkbox",checked:!0,onChange:this.changeAxis,name:"showY"}),Object(o.h)("label",{htmlFor:"showY"},"Show Y axis")),Object(o.h)("div",{class:"option"},Object(o.h)("input",{type:"checkbox",checked:!0,onChange:this.showAnnotations,name:"showAnnotations"}),Object(o.h)("label",{htmlFor:"showAnnotations"},"Show annotation lines and values")),Object(o.h)("div",{class:"option"},Object(o.h)("input",{type:"text",name:"Y-axis label",onChange:this.changeLabel}),Object(o.h)("label",{htmlFor:"Y-axis label"},"Show label for Y-axis")))))))},t}();k.style="html{font-size:10px;font-family:'Amazon Ember', Helvetica, Arial, sans-serif}h2{margin:0;padding:10px 0 0}.control-container{display:-ms-flexbox;display:flex}.configuration-table{overflow-y:auto;margin:5px 0}.configuration-table th{text-align:left;padding-bottom:3px}.configurations{display:-ms-flexbox;display:flex}.configurations>div{padding-right:2em}.threshold-list-item-container,.trend-line-list-item-container{padding:3px 0}.color-block{height:12px;width:12px}monitor-demo .chart-container{margin-top:10px}monitor-demo .options{margin-top:5px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}monitor-demo .options .option{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-top:3px}monitor-demo .options .option input{margin-right:2px}"}}]);