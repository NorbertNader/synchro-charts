(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{1126:function(e,t,r){"use strict";r.r(t),r.d(t,"widget_test_route",(function(){return X}));var n=r(61),a=r(1130),o=(r(1132),r(1133)),i=r(1134),s=r(1138),u=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)n[a]=o[i];return n},c=new Date(2e3,0,0),d=new Date(2e3,0,1),l=d.getTime()-c.getTime(),f=(a.a.STRING,a.b.ALARM,a.a.STRING,a.b.ALARM,a.a.NUMBER,a.b.ALARM,a.b.ALARM,{}[i.c]=[{x:c.getTime()+l/5,y:12},{x:c.getTime()+2*l/5,y:15},{x:c.getTime()+3*l/5,y:60},{x:c.getTime()+4*l/5,y:120}],i.c,a.b.ALARM,a.b.ALARM,a.b.ALARM,c.getTime(),c.getTime(),c.getTime(),c.getTime(),c.getTime(),c.getTime(),c.getTime(),c.getTime(),a.b.ALARM,{start:c,end:d}),m={position:o.a.RIGHT,width:200},g=new Date(1990,0,0),p="%[a-f0-9]{2}",h=new RegExp(p,"gi"),y=new RegExp("("+p+")+","gi");function v(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],v(r),v(n))}function b(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(h),r=1;r<t.length;r++)t=(e=v(t,r).join("")).match(h);return e}}var S=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=y.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=b(r[0]);n!==r[0]&&(t[r[0]]=n)}r=y.exec(e)}t["%C2"]="\ufffd";for(var a=Object.keys(t),o=0;o<a.length;o++){var i=a[o];e=e.replace(new RegExp(i,"g"),t[i])}return e}(e)}},O=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]},w=Object(s.a)((function(e,t){function r(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function n(e,t){return t.encode?t.strict?function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}(e):encodeURIComponent(e):e}function a(e,t){return t.decode?S(e):e}function o(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function i(e){var t=(e=o(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function s(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function c(e,t){r((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return function(t,r,n){var o="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map((function(t){return a(t,e)})):null===r?r:a(r,e);n[t]=o};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(var i=0,u=e.split("&");i<u.length;i++){var c=u[i],d=O(t.decode?c.replace(/\+/g," "):c,"="),l=d[0];g=void 0===(g=d[1])?null:["comma","separator"].includes(t.arrayFormat)?g:a(g,t),n(a(l,t),g,o)}for(var f=0,m=Object.keys(o);f<m.length;f++){var g;if(l=m[f],"object"==typeof(g=o[l])&&null!==g)for(var p=0,h=Object.keys(g);p<h.length;p++){var y=h[p];g[y]=s(g[y],t)}else o[l]=s(g,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var r=o[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))}t.extract=i,t.parse=c,t.stringify=function(e,t){if(!e)return"";r((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var a=function(r){return t.skipNull&&function(e){return null==e}(e[r])||t.skipEmptyString&&""===e[r]},o=function(e){switch(e.arrayFormat){case"index":return function(t){return function(r,a){var o=r.length;return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?r:u(r,null===a?[[n(t,e),"[",o,"]"].join("")]:[[n(t,e),"[",n(o,e),"]=",n(a,e)].join("")])}};case"bracket":return function(t){return function(r,a){return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?r:u(r,null===a?[[n(t,e),"[]"].join("")]:[[n(t,e),"[]=",n(a,e)].join("")])}};case"comma":case"separator":return function(t){return function(r,a){return null==a||0===a.length?r:0===r.length?[[n(t,e),"=",n(a,e)].join("")]:[[r,n(a,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(r,a){return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?r:u(r,null===a?[n(t,e)]:[[n(t,e),"=",n(a,e)].join("")])}}}}(t),i={},s=0,c=Object.keys(e);s<c.length;s++){var d=c[s];a(d)||(i[d]=e[d])}var l=Object.keys(i);return!1!==t.sort&&l.sort(t.sort),l.map((function(r){var a=e[r];return void 0===a?"":null===a?n(r,t):Array.isArray(a)?a.reduce(o(r),[]).join("&"):n(r,t)+"="+n(a,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=O(e,"#"),n=r[0],o=r[1];return Object.assign({url:n.split("?")[0]||"",query:c(i(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:a(o,t)}:{})},t.stringifyUrl=function(e,r){r=Object.assign({encode:!0,strict:!0},r);var a=o(e.url).split("?")[0]||"",i=t.extract(e.url),s=t.parse(i,{sort:!1}),u=Object.assign(s,e.query),c=t.stringify(u,r);c&&(c="?"+c);var d=function(e){var t="",r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(d="#"+n(e.fragmentIdentifier,r)),""+a+c+d}})).parse,E=function(e){return"true"===e},T=function(e){var t=JSON.parse(e);if(t.x)throw new Error("need to implement this.");return t},j=function(e){return Object.assign(Object.assign({},e),{data:e.data.map((function(e){return{x:Number(e.x),y:e.y}}))})},N=function(){var e=w(window.location.search);return{alarms:e.alarms?JSON.parse(e.alarms):void 0,width:e.width?JSON.parse(e.width):void 0,axis:e.axis?JSON.parse(e.axis):void 0,height:e.height?JSON.parse(e.height):void 0,duration:e.duration?JSON.parse(e.duration):void 0,errMsg:e.errMsg,gestures:null==e.gestures||E(e.gestures),delayBeforeDataLoads:null!=e.delayBeforeDataLoads?JSON.parse(e.delayBeforeDataLoads):0,dataStreamInfos:null!=e.dataStreamInfos?JSON.parse(e.dataStreamInfos):[],tableColumns:null!=e.tableColumns?JSON.parse(e.tableColumns):[],legend:null!=e.legend?JSON.parse(e.legend):m,messageOverrides:null!=e.messageOverrides?JSON.parse(e.messageOverrides):void 0,componentTag:null!=e.componentTag?e.componentTag:"monitor-line-chart",displayInfoNames:!!e.displayInfoNames&&E(e.displayInfoNames),annotations:null!=e.annotations?T(e.annotations):void 0,isEditing:null!=e.isEditing&&E(e.isEditing),hasError:null!=e.hasError&&E(e.hasError),dataStreams:null!=e.dataStreams?JSON.parse(e.dataStreams).map(j):[],asyncDataStreams:null!=e.asyncDataStreams?JSON.parse(e.asyncDataStreams).map(j):[],viewPortStart:null!=e.viewPortStart?new Date(e.viewPortStart):new Date(2e3,0,0),viewPortEnd:null!=e.viewPortEnd?new Date(e.viewPortEnd):new Date(2e3,0,1)}}(),A=N.alarms,I=N.messageOverrides,x=N.width,L=void 0===x?700:x,R=N.height,D=void 0===R?400:R,M=N.axis,F=N.componentTag,k=N.annotations,C=N.viewPortStart,U=N.viewPortEnd,J=N.duration,B=N.isEditing,P=N.dataStreams,H=N.dataStreamInfos,G=N.delayBeforeDataLoads,_=N.gestures,$=N.hasError,q=N.asyncDataStreams,V=N.legend,W=N.tableColumns,Q=N.displayInfoNames,z=N.errMsg,Y=function(e){var t=e.dataStreamInfos,r=e.dataStreams,n=e.delayBeforeDataLoads,a=e.hasError,o=e.errMsg;return function(e){var i=e.onSuccess,s=e.onError,u=e.resolution,c=o||"some error";t.forEach((function(e){var t=(r||[]).find((function(t){return t.id===e.id})),o=function(){if(a)s(e.id,u,c);else{var r=Object.assign(Object.assign({},e),{data:[]});i(e.id,t||r,g,new Date)}};0===n?o():function(e){return void 0===e&&(e=100),new Promise((function(t){setTimeout((function(){t()}),e)}))}(n).then(o)}))}}({dataStreams:q,dataStreamInfos:H,delayBeforeDataLoads:G,hasError:$,errMsg:z}),K=Object.assign(Object.assign({},f),{start:C,end:U,duration:J,group:"some-viewport-group"}),Z=Object.assign(Object.assign({},{height:500,width:500}),{width:L,height:D}),X=function(){function e(e){Object(n.i)(this,e),this.dataStreamInfos=[],this.component=F}return e.prototype.onWidgetUpdated=function(e){var t=e.detail;t.dataStreamInfo&&(this.dataStreamInfos=t.dataStreamInfo)},e.prototype.render=function(){return Object(n.h)("div",null,Object(n.h)("div",{style:{width:L+"px",height:D+"px"}},Object(n.h)("bp-data-store",null,Object(n.h)("sitewise-dynamic-widget",{componentTag:this.component,onRequestData:Y,isEditing:B,dataStreamInfo:H,dataStreams:P,alarms:A,viewPort:K,legend:V,size:Z,axis:M,tableColumns:W,annotations:k,gestures:_,widgetId:"some-widget-id",messageOverrides:I,invalidTagErrorHeader:"invalidComponentTag.header",invalidTagErrorSubheader:"invalidComponentTag.subheader",liveModeOnlyMessage:"invalidWidgetForHistoricalData.content"}))),Q&&this.dataStreamInfos.map((function(e){var t=e.name,r=e.id;return Object(n.h)("div",{key:r,id:"info-"+r},t)})),Object(n.h)("monitor-webgl-context",null))},e}()},1130:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return u})),function(e){e.NUMBER="NUMBER",e.STRING="STRING",e.BOOLEAN="BOOLEAN"}(n||(n={})),function(e){e.ALARM="ALARM",e.ANOMALY="ANOMALY"}(a||(a={}));var o={liveTimeFrameValueLabel:"Value",historicalTimeFrameValueLabel:"Value",noDataStreamsPresentHeader:"No properties or alarms",noDataStreamsPresentSubHeader:"This widget doesn't have any properties or alarms.",noDataPresentHeader:"No data",noDataPresentSubHeader:"There's no data to display for this time range."},i="round",s=3,u="M 2 2 H 15",c="1, 5"},1132:function(e,t,r){"use strict";var n,a,o;r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),function(e){e.LESS_THAN="LT",e.GREATER_THAN="GT",e.LESS_THAN_EQUAL="LTE",e.GREATER_THAN_EQUAL="GTE",e.EQUAL="EQ"}(n||(n={})),function(e){!function(e){e.EITHER="EITHER",e.RIGHT="RIGHT",e.LEFT="LEFT"}(e.DATA_ALIGNMENT||(e.DATA_ALIGNMENT={}))}(a||(a={})),function(e){e.ERROR="error",e.ACTIVE="active",e.NORMAL="normal",e.ACKNOWLEDGED="acknowledged",e.SNOOZED="snoozed",e.DISABLED="disabled",e.LATCHED="latched"}(o||(o={}))},1133:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),function(e){e.TimeSeries="time-series",e.Log="log",e.Linear="linear"}(n||(n={})),function(e){e.RIGHT="RIGHT",e.BOTTOM="BOTTOM"}(a||(a={}))},1134:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return n})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return c})),r.d(t,"h",(function(){return d}));var n=1e3,a=60*n,o=60*a,i=24*o,s=30*i,u=12*s,c=function(e){if(e<0)throw new Error("Time cannot be negative!");var t=Math.floor(e/1e3),r=Math.floor(t/60),n=Math.floor(r/60);return{day:Math.floor(n/24),hour:n%=24,minute:r%=60,seconds:t%=60}},d=function(e,t,r){var n=r.start,u=r.end.getTime()-n.getTime();return t<o?u<a?e.toLocaleString("en-US",{minute:"numeric",second:"numeric"}):u<=10*a?e.toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}):u<=o?e.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):u<=i?e.toLocaleString("en-US",{hour12:!0,hour:"numeric",month:"numeric",minute:"numeric",day:"numeric"}):u<=s?e.toLocaleString("en-US",{hour12:!0,hour:"numeric",year:"numeric",month:"numeric",day:"numeric"}):e.toLocaleString("en-US",{day:"numeric",month:"numeric",year:"numeric"}):t<=o?e.toLocaleString("en-US",{hour:"numeric",day:"numeric",month:"numeric",hour12:!0}):t<i?e.toLocaleString("en-US",{day:"numeric",month:"numeric"}):e.toLocaleString("en-US",{year:"numeric",month:"numeric",day:"numeric"})}},1136:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a}));var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}}).call(this,r(34))},1138:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a}));var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}}).call(this,r(34))},985:function(e,t,r){"use strict";r.r(t),r.d(t,"widget_test_route",(function(){return X}));var n=r(60),a=r(42),o=(r(68),r(99)),i=r(69),s=r(1136),u=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)n[a]=o[i];return n},c=new Date(2e3,0,0),d=new Date(2e3,0,1),l=d.getTime()-c.getTime(),f=(a.a.STRING,a.b.ALARM,a.a.STRING,a.b.ALARM,a.a.NUMBER,a.b.ALARM,a.b.ALARM,{}[i.c]=[{x:c.getTime()+l/5,y:12},{x:c.getTime()+2*l/5,y:15},{x:c.getTime()+3*l/5,y:60},{x:c.getTime()+4*l/5,y:120}],i.c,a.b.ALARM,a.b.ALARM,a.b.ALARM,c.getTime(),c.getTime(),c.getTime(),c.getTime(),c.getTime(),c.getTime(),c.getTime(),c.getTime(),a.b.ALARM,{start:c,end:d}),m={position:o.a.RIGHT,width:200},g=new Date(1990,0,0),p="%[a-f0-9]{2}",h=new RegExp(p,"gi"),y=new RegExp("("+p+")+","gi");function v(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],v(r),v(n))}function b(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(h),r=1;r<t.length;r++)t=(e=v(t,r).join("")).match(h);return e}}var S=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=y.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=b(r[0]);n!==r[0]&&(t[r[0]]=n)}r=y.exec(e)}t["%C2"]="\ufffd";for(var a=Object.keys(t),o=0;o<a.length;o++){var i=a[o];e=e.replace(new RegExp(i,"g"),t[i])}return e}(e)}},O=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]},w=Object(s.a)((function(e,t){function r(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function n(e,t){return t.encode?t.strict?function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}(e):encodeURIComponent(e):e}function a(e,t){return t.decode?S(e):e}function o(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function i(e){var t=(e=o(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function s(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function c(e,t){r((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return function(t,r,n){var o="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map((function(t){return a(t,e)})):null===r?r:a(r,e);n[t]=o};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(var i=0,u=e.split("&");i<u.length;i++){var c=u[i],d=O(t.decode?c.replace(/\+/g," "):c,"="),l=d[0];g=void 0===(g=d[1])?null:["comma","separator"].includes(t.arrayFormat)?g:a(g,t),n(a(l,t),g,o)}for(var f=0,m=Object.keys(o);f<m.length;f++){var g;if(l=m[f],"object"==typeof(g=o[l])&&null!==g)for(var p=0,h=Object.keys(g);p<h.length;p++){var y=h[p];g[y]=s(g[y],t)}else o[l]=s(g,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var r=o[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))}t.extract=i,t.parse=c,t.stringify=function(e,t){if(!e)return"";r((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var a=function(r){return t.skipNull&&function(e){return null==e}(e[r])||t.skipEmptyString&&""===e[r]},o=function(e){switch(e.arrayFormat){case"index":return function(t){return function(r,a){var o=r.length;return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?r:u(r,null===a?[[n(t,e),"[",o,"]"].join("")]:[[n(t,e),"[",n(o,e),"]=",n(a,e)].join("")])}};case"bracket":return function(t){return function(r,a){return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?r:u(r,null===a?[[n(t,e),"[]"].join("")]:[[n(t,e),"[]=",n(a,e)].join("")])}};case"comma":case"separator":return function(t){return function(r,a){return null==a||0===a.length?r:0===r.length?[[n(t,e),"=",n(a,e)].join("")]:[[r,n(a,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(r,a){return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?r:u(r,null===a?[n(t,e)]:[[n(t,e),"=",n(a,e)].join("")])}}}}(t),i={},s=0,c=Object.keys(e);s<c.length;s++){var d=c[s];a(d)||(i[d]=e[d])}var l=Object.keys(i);return!1!==t.sort&&l.sort(t.sort),l.map((function(r){var a=e[r];return void 0===a?"":null===a?n(r,t):Array.isArray(a)?a.reduce(o(r),[]).join("&"):n(r,t)+"="+n(a,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=O(e,"#"),n=r[0],o=r[1];return Object.assign({url:n.split("?")[0]||"",query:c(i(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:a(o,t)}:{})},t.stringifyUrl=function(e,r){r=Object.assign({encode:!0,strict:!0},r);var a=o(e.url).split("?")[0]||"",i=t.extract(e.url),s=t.parse(i,{sort:!1}),u=Object.assign(s,e.query),c=t.stringify(u,r);c&&(c="?"+c);var d=function(e){var t="",r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(d="#"+n(e.fragmentIdentifier,r)),""+a+c+d}})).parse,E=function(e){return"true"===e},T=function(e){var t=JSON.parse(e);if(t.x)throw new Error("need to implement this.");return t},j=function(e){return Object.assign(Object.assign({},e),{data:e.data.map((function(e){return{x:Number(e.x),y:e.y}}))})},N=function(){var e=w(window.location.search);return{alarms:e.alarms?JSON.parse(e.alarms):void 0,width:e.width?JSON.parse(e.width):void 0,axis:e.axis?JSON.parse(e.axis):void 0,height:e.height?JSON.parse(e.height):void 0,duration:e.duration?JSON.parse(e.duration):void 0,errMsg:e.errMsg,gestures:null==e.gestures||E(e.gestures),delayBeforeDataLoads:null!=e.delayBeforeDataLoads?JSON.parse(e.delayBeforeDataLoads):0,dataStreamInfos:null!=e.dataStreamInfos?JSON.parse(e.dataStreamInfos):[],tableColumns:null!=e.tableColumns?JSON.parse(e.tableColumns):[],legend:null!=e.legend?JSON.parse(e.legend):m,messageOverrides:null!=e.messageOverrides?JSON.parse(e.messageOverrides):void 0,componentTag:null!=e.componentTag?e.componentTag:"monitor-line-chart",displayInfoNames:!!e.displayInfoNames&&E(e.displayInfoNames),annotations:null!=e.annotations?T(e.annotations):void 0,isEditing:null!=e.isEditing&&E(e.isEditing),hasError:null!=e.hasError&&E(e.hasError),dataStreams:null!=e.dataStreams?JSON.parse(e.dataStreams).map(j):[],asyncDataStreams:null!=e.asyncDataStreams?JSON.parse(e.asyncDataStreams).map(j):[],viewPortStart:null!=e.viewPortStart?new Date(e.viewPortStart):new Date(2e3,0,0),viewPortEnd:null!=e.viewPortEnd?new Date(e.viewPortEnd):new Date(2e3,0,1)}}(),A=N.alarms,I=N.messageOverrides,x=N.width,L=void 0===x?700:x,R=N.height,D=void 0===R?400:R,M=N.axis,F=N.componentTag,k=N.annotations,C=N.viewPortStart,U=N.viewPortEnd,J=N.duration,B=N.isEditing,P=N.dataStreams,H=N.dataStreamInfos,G=N.delayBeforeDataLoads,_=N.gestures,$=N.hasError,q=N.asyncDataStreams,V=N.legend,W=N.tableColumns,Q=N.displayInfoNames,z=N.errMsg,Y=function(e){var t=e.dataStreamInfos,r=e.dataStreams,n=e.delayBeforeDataLoads,a=e.hasError,o=e.errMsg;return function(e){var i=e.onSuccess,s=e.onError,u=e.resolution,c=o||"some error";t.forEach((function(e){var t=(r||[]).find((function(t){return t.id===e.id})),o=function(){if(a)s(e.id,u,c);else{var r=Object.assign(Object.assign({},e),{data:[]});i(e.id,t||r,g,new Date)}};0===n?o():function(e){return void 0===e&&(e=100),new Promise((function(t){setTimeout((function(){t()}),e)}))}(n).then(o)}))}}({dataStreams:q,dataStreamInfos:H,delayBeforeDataLoads:G,hasError:$,errMsg:z}),K=Object.assign(Object.assign({},f),{start:C,end:U,duration:J,group:"some-viewport-group"}),Z=Object.assign(Object.assign({},{height:500,width:500}),{width:L,height:D}),X=function(){function e(e){Object(n.i)(this,e),this.dataStreamInfos=[],this.component=F}return e.prototype.onWidgetUpdated=function(e){var t=e.detail;t.dataStreamInfo&&(this.dataStreamInfos=t.dataStreamInfo)},e.prototype.render=function(){return Object(n.h)("div",null,Object(n.h)("div",{style:{width:L+"px",height:D+"px"}},Object(n.h)("bp-data-store",null,Object(n.h)("sitewise-dynamic-widget",{componentTag:this.component,onRequestData:Y,isEditing:B,dataStreamInfo:H,dataStreams:P,alarms:A,viewPort:K,legend:V,size:Z,axis:M,tableColumns:W,annotations:k,gestures:_,widgetId:"some-widget-id",messageOverrides:I,invalidTagErrorHeader:"invalidComponentTag.header",invalidTagErrorSubheader:"invalidComponentTag.subheader",liveModeOnlyMessage:"invalidWidgetForHistoricalData.content"}))),Q&&this.dataStreamInfos.map((function(e){var t=e.name,r=e.id;return Object(n.h)("div",{key:r,id:"info-"+r},t)})),Object(n.h)("monitor-webgl-context",null))},e}()}}]);