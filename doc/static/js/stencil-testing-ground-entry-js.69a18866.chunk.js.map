{"version":3,"sources":["../node_modules/@amzn/bp-components/dist/esm-es5/index.mjs","../node_modules/@amzn/bp-components/dist/esm-es5/testing-ground.entry.js","../node_modules/@amzn/bp-components/dist/esm-es5/constants-2dc21ff9.js","../node_modules/@amzn/bp-components/dist/esm-es5/time-cc688558.js","../node_modules/@amzn/bp-components/dist/esm-es5/chartDefaults-5713566e.js","../node_modules/@amzn/bp-components/dist/esm-es5/palettes-cbce0fc6.js","../node_modules/@amzn/bp-components/dist/esm-es5/types-ef93b8eb.js","../node_modules/@amzn/bp-components/dist/esm-es5/testConfigs-669c3f25.js"],"names":["__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","WEEK","DAY_IN_MS","pallet","getPalette","PalletScheme","QUALITATIVE_MUTED","UPDATE_TIME_FREQUENCY_MS","SECOND_IN_MS","VIEWPORT_DURATION","MINUTE_IN_MS","TestingGround","hostRef","_this","this","registerInstance","isLive","isEditing","config","TESTING_GROUND_CHART_CONFIG","height","viewPortDuration","isBottomLegend","numCharts","annotationColor","annotationValue","annotationComp","COMPARISON_OPERATOR","LESS_THAN","annotations","x","color","label","text","show","value","Date","viewPort","start","showValue","y","comparisonOperator","GREATER_THAN","timeUpdateLoop","window","setTimeout","updateViewPortToNow","Object","assign","lastUpdatedBy","undefined","end","getTime","shiftByYear","YEAR_IN_MS","toggleIsEditing","increaseYMax","yMax","addStream","index","dataStreamInfo","id","toString","name","detailedName","unit","removeStream","slice","decreaseYMax","doubleViewPortDuration","halfViewPortDuration","toggleLegendPosition","legend","width","position","LEGEND_POSITION","BOTTOM","RIGHT","increaseEndDate","increaseStartDate","newStart","enableLiveMode","addChart","removeChart","changeAnnotationColor","event","target","changeAnnotationValue","Number","changeAnnotationName","annotationName","changeAnnotationComparator","saveThreshold","threshold","prototype","dateRangeChangeHandler","_a","_b","detail","onWidgetUpdated","configUpdate","render","h","style","margin","onClick","disabled","map","type","onChange","placeholder","LESS_THAN_EQUAL","GREATER_THAN_EQUAL","display","flexWrap","fill","border","componentTag","ScaleType","HOUR_IN_MS","MONTH_IN_MS","convertMS","milliseconds","Error","seconds","Math","floor","minute","hour","day","displayDate","date","resolution","viewPortDurationMS","toLocaleString","second","hour12","month","year","DEFAULT_CHART_CONFIG","yMin","size","marginLeft","marginRight","marginTop","marginBottom","movement","enableXScroll","enableYScroll","zoomMax","Infinity","zoomMin","layout","xGridVisible","yGridVisible","xTicksVisible","yTicksVisible","scale","xScaleType","TimeSeries","yScaleType","Linear","xScaleSide","yScaleSide","PALLET_MAP","BLUE_MUTED","numColors","colors","infos"],"mappings":"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","file":"static/js/stencil-testing-ground-entry-js.69a18866.chunk.js","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nexport { C as COMPARISON_OPERATOR } from './types-ef93b8eb.js';\nexport { L as LEGEND_POSITION, S as ScaleType } from './constants-2dc21ff9.js';\nimport { S as SECOND_IN_MS } from './time-cc688558.js';\nvar MAX_FPS_TRACKED = 80;\nvar initFPSMetering = function () {\n    var trackedFPS = [];\n    var lastLoop = Date.now();\n    var thisLoop = Date.now();\n    var framesProcessed = 0;\n    var loop = setInterval(function () {\n        framesProcessed += 1;\n    }, SECOND_IN_MS / MAX_FPS_TRACKED);\n    var updateFPS = setInterval(function () {\n        thisLoop = Date.now();\n        var duration = (thisLoop - lastLoop) / SECOND_IN_MS;\n        trackedFPS.push(framesProcessed / Math.max(duration, 0.005));\n        lastLoop = thisLoop;\n        framesProcessed = 0;\n    }, SECOND_IN_MS / 4);\n    return {\n        reset: function () {\n            framesProcessed = 0;\n            thisLoop = Date.now();\n            lastLoop = Date.now();\n            trackedFPS = [];\n        },\n        fps: function () {\n            var sortedFPS = __spreadArrays(trackedFPS).sort();\n            var len = sortedFPS.length;\n            var mid = Math.ceil(len / 2);\n            var median = len % 2 === 0 ? (sortedFPS[mid] + sortedFPS[mid - 1]) / 2 : sortedFPS[mid - 1];\n            var sum = sortedFPS.reduce(function (total, num) { return total + num; }, 0);\n            var average = sum / len;\n            trackedFPS = [];\n            return { average: average, median: median };\n        },\n        stop: function () {\n            clearInterval(loop);\n            clearInterval(updateFPS);\n        },\n    };\n};\nexport { initFPSMetering };\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { r as registerInstance, h } from './index-326b73e4.js';\nimport './index.mjs';\nimport { C as COMPARISON_OPERATOR } from './types-ef93b8eb.js';\nimport { L as LEGEND_POSITION } from './constants-2dc21ff9.js';\nimport { Y as YEAR_IN_MS, D as DAY_IN_MS, S as SECOND_IN_MS, M as MINUTE_IN_MS } from './time-cc688558.js';\nimport { g as getPalette, P as PalletScheme } from './palettes-cbce0fc6.js';\nimport './chartDefaults-5713566e.js';\nimport { T as TESTING_GROUND_CHART_CONFIG } from './testConfigs-669c3f25.js';\nvar testingGroundCss = \"html{font-size:10px;font-family:'Amazon Ember', Helvetica, Arial, sans-serif}\";\nvar WEEK = DAY_IN_MS * 7;\nvar pallet = getPalette(PalletScheme.QUALITATIVE_MUTED, 5);\n// alter this to change the number of charts to display. useful for performance testing.\nvar NUM_LINE_CHARTS = 1;\nvar MIN_HEIGHT = 380;\nvar UPDATE_TIME_FREQUENCY_MS = SECOND_IN_MS;\nvar VIEWPORT_DURATION = 30 * MINUTE_IN_MS;\nvar TestingGround = /** @class */ (function () {\n    function TestingGround(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        this.isLive = false;\n        this.isEditing = false;\n        this.config = TESTING_GROUND_CHART_CONFIG;\n        this.height = MIN_HEIGHT;\n        this.viewPortDuration = VIEWPORT_DURATION;\n        this.isBottomLegend = true;\n        this.numCharts = NUM_LINE_CHARTS;\n        this.annotationColor = '#FFC0CB';\n        this.annotationValue = 0;\n        this.annotationComp = COMPARISON_OPERATOR.LESS_THAN;\n        this.annotations = {\n            x: [\n                {\n                    color: 'red',\n                    label: {\n                        text: 'example annotations',\n                        show: true,\n                    },\n                    value: new Date(TESTING_GROUND_CHART_CONFIG.viewPort.start),\n                    showValue: true,\n                },\n            ],\n            y: [\n                {\n                    color: 'blue',\n                    label: {\n                        text: 'example threshold',\n                        show: true,\n                    },\n                    value: 0,\n                    showValue: true,\n                    comparisonOperator: COMPARISON_OPERATOR.GREATER_THAN,\n                },\n            ],\n        };\n        this.timeUpdateLoop = function () {\n            window.setTimeout(function () {\n                if (_this.isLive) {\n                    _this.updateViewPortToNow();\n                    _this.timeUpdateLoop();\n                }\n            }, UPDATE_TIME_FREQUENCY_MS);\n        };\n        this.updateViewPortToNow = function () {\n            _this.config = Object.assign(Object.assign({}, _this.config), { viewPort: Object.assign(Object.assign({}, _this.config.viewPort), { lastUpdatedBy: undefined, end: new Date(), start: new Date(new Date().getTime() - _this.viewPortDuration) }) });\n        };\n        /**\n         *\n         * State Updaters\n         *\n         */\n        this.shiftByYear = function () {\n            _this.config = Object.assign(Object.assign({}, _this.config), { viewPort: Object.assign(Object.assign({}, _this.config.viewPort), { lastUpdatedBy: undefined, start: new Date(_this.config.viewPort.start.getTime() + YEAR_IN_MS), end: new Date(_this.config.viewPort.end.getTime() + YEAR_IN_MS) }) });\n        };\n        this.toggleIsEditing = function () {\n            _this.isEditing = !_this.isEditing;\n        };\n        this.increaseYMax = function () {\n            _this.config = Object.assign(Object.assign({}, _this.config), { viewPort: Object.assign(Object.assign({}, _this.config.viewPort), { yMax: _this.config.viewPort.yMax || 50 }) });\n        };\n        this.addStream = function () {\n            var index = _this.config.dataStreamInfo.length;\n            var color = pallet[index % pallet.length];\n            var id = index.toString();\n            if (id != null) {\n                _this.config = Object.assign(Object.assign({}, _this.config), { dataStreamInfo: __spreadArrays(_this.config.dataStreamInfo, [\n                        {\n                            id: id,\n                            color: color,\n                            name: id,\n                            detailedName: \"/amazon/stocks/\" + id,\n                            unit: 'USD',\n                        },\n                    ]) });\n            }\n            else {\n                _this.config = Object.assign(Object.assign({}, _this.config), { dataStreamInfo: __spreadArrays(_this.config.dataStreamInfo, [\n                        {\n                            id: \"non-existent-stream-\" + (index + 1),\n                            color: 'black',\n                            name: \"a pretty cool stream \" + index,\n                            unit: 'M',\n                        },\n                    ]) });\n            }\n        };\n        // Remove last added stream\n        this.removeStream = function () {\n            _this.config = Object.assign(Object.assign({}, _this.config), { dataStreamInfo: _this.config.dataStreamInfo.slice(0, -1) });\n        };\n        this.decreaseYMax = function () {\n            _this.config = Object.assign(Object.assign({}, _this.config), { viewPort: Object.assign(Object.assign({}, _this.config.viewPort), { yMax: _this.config.viewPort.yMax || 0 - 50 }) });\n        };\n        this.doubleViewPortDuration = function () {\n            _this.viewPortDuration *= 2;\n        };\n        this.halfViewPortDuration = function () {\n            _this.viewPortDuration /= 2;\n        };\n        this.toggleLegendPosition = function () {\n            _this.isBottomLegend = !_this.isBottomLegend;\n            _this.config = Object.assign(Object.assign({}, _this.config), { legend: Object.assign(Object.assign({ width: 200 }, _this.config.legend), { position: _this.isBottomLegend ? LEGEND_POSITION.BOTTOM : LEGEND_POSITION.RIGHT }) });\n        };\n        this.increaseEndDate = function () {\n            _this.config = Object.assign(Object.assign({}, _this.config), { viewPort: Object.assign(Object.assign({}, _this.config.viewPort), { start: _this.config.viewPort.start, end: new Date(_this.config.viewPort.end.getTime() + WEEK * 6), lastUpdatedBy: undefined }) });\n        };\n        this.increaseStartDate = function () {\n            var newStart = new Date(_this.config.viewPort.start.getTime() + WEEK * 6);\n            // Prevent the start from going pass the end date!\n            if (newStart < _this.config.viewPort.end) {\n                _this.config = Object.assign(Object.assign({}, _this.config), { viewPort: Object.assign(Object.assign({}, _this.config.viewPort), { end: _this.config.viewPort.end, start: newStart, lastUpdatedBy: undefined }) });\n            }\n        };\n        this.enableLiveMode = function () {\n            _this.isLive = true;\n            _this.timeUpdateLoop();\n        };\n        this.addChart = function () {\n            _this.numCharts += 1;\n        };\n        this.removeChart = function () {\n            _this.numCharts -= 1;\n        };\n        this.changeAnnotationColor = function (event) {\n            if (event != null && event.target != null) {\n                _this.annotationColor = event.target.value;\n            }\n        };\n        this.changeAnnotationValue = function (event) {\n            if (event != null && event.target != null) {\n                _this.annotationValue = Number(event.target.value);\n            }\n        };\n        this.changeAnnotationName = function (event) {\n            if (event != null && event.target != null) {\n                _this.annotationName = event.target.value;\n            }\n        };\n        this.changeAnnotationComparator = function (event) {\n            if (event != null && event.target != null) {\n                _this.annotationComp = event.target.value;\n            }\n        };\n        this.saveThreshold = function () {\n            var threshold = {\n                color: _this.annotationColor,\n                value: _this.annotationValue,\n                showValue: true,\n                comparisonOperator: _this.annotationComp,\n            };\n            if (_this.annotationName != null) {\n                threshold.label = {\n                    text: _this.annotationName,\n                    show: true,\n                };\n            }\n            _this.annotations = Object.assign(Object.assign({}, _this.annotations), { y: __spreadArrays((_this.annotations.y || []), [threshold]) });\n            _this.annotationValue = 0;\n            _this.annotationName = undefined;\n        };\n    }\n    /**\n     *\n     * Event Listeners\n     *\n     */\n    /**\n     * Update Viewport of the widget\n     */\n    TestingGround.prototype.dateRangeChangeHandler = function (_a) {\n        var _b = _a.detail, start = _b[0], end = _b[1], lastUpdatedBy = _b[2];\n        this.isLive = false;\n        this.config = Object.assign(Object.assign({}, this.config), { viewPort: Object.assign(Object.assign({}, this.config.viewPort), { start: start, end: end, lastUpdatedBy: lastUpdatedBy }) });\n    };\n    /**\n     * Applies update to the widgets config\n     */\n    TestingGround.prototype.onWidgetUpdated = function (_a) {\n        var configUpdate = _a.detail;\n        this.config = Object.assign(Object.assign({}, this.config), configUpdate);\n    };\n    TestingGround.prototype.render = function () {\n        var _this = this;\n        return (h(\"bp-data-store\", null, h(\"div\", { style: { margin: '30px 4%' } }, h(\"h2\", null, \"Chart Controls - \", this.numCharts, \" Chart\", this.numCharts === 1 ? '' : 's'), h(\"button\", { onClick: this.addChart }, \"Add Chart\"), ' ', h(\"button\", { onClick: this.removeChart, disabled: this.numCharts === 0 }, \"Remove Chart\"), ' ', h(\"button\", { onClick: this.addStream }, \"Add Stream\"), ' ', h(\"button\", { disabled: !(this.config.dataStreamInfo.length > 1), onClick: this.removeStream }, \"Remove Stream\"), ' ', h(\"button\", { onClick: this.toggleLegendPosition }, \"Show Legend on \", h(\"strong\", null, this.isBottomLegend ? 'Right' : 'Bottom')), ' ', h(\"button\", { onClick: this.toggleIsEditing }, this.isEditing ? 'Disable' : 'Enable', \" Editing\"), h(\"h5\", null, \"ViewPort\"), h(\"button\", { onClick: this.increaseEndDate }, \"Increase End Date\"), h(\"button\", { onClick: this.increaseStartDate }, \"Increase Start Date\"), ' ', h(\"button\", { onClick: this.decreaseYMax }, \"Decrease Y Max\"), h(\"button\", { onClick: this.increaseYMax }, \"Increase Y Max\"), h(\"button\", { onClick: this.shiftByYear }, \"Shift Forward One Year\"), h(\"button\", { onClick: this.doubleViewPortDuration }, \"Double View Port Duration\"), h(\"button\", { onClick: this.halfViewPortDuration }, \"Halve View Port Duration\"), !this.isLive && h(\"button\", { onClick: this.enableLiveMode }, \"Enable Live\"), h(\"h4\", null, \"Annotations\"), this.annotations &&\n            this.annotations.y.map(function (_a) {\n                var color = _a.color, label = _a.label, value = _a.value, comparisonOperator = _a.comparisonOperator;\n                return (h(\"div\", null, \"color: \", color, \" label: \", label ? label.text : '', \" value: \", value, \" Operator: \", comparisonOperator));\n            }), h(\"input\", { type: \"color\", value: this.annotationColor, onChange: this.changeAnnotationColor }), h(\"input\", { type: \"number\", onChange: this.changeAnnotationValue, placeholder: \"value\" }), h(\"input\", { type: \"text\", onChange: this.changeAnnotationName, placeholder: \"name\" }), h(\"select\", { onChange: this.changeAnnotationComparator }, h(\"option\", { value: COMPARISON_OPERATOR.LESS_THAN }, \"Less Than\"), h(\"option\", { value: COMPARISON_OPERATOR.LESS_THAN_EQUAL }, \"Less than equal\"), h(\"option\", { value: COMPARISON_OPERATOR.GREATER_THAN }, \"Greater than\"), h(\"option\", { value: COMPARISON_OPERATOR.GREATER_THAN_EQUAL }, \"Greater than equal\")), h(\"button\", { onClick: this.saveThreshold }, \"add annotation\"), h(\"h2\", null, \"Widgets\"), h(\"div\", { style: { display: 'flex', flexWrap: 'wrap' } }, new Array(this.numCharts).fill(0).map(function () { return (h(\"div\", { style: {\n                border: '1px solid gray',\n                margin: '10px',\n                height: _this.height + \"px\",\n                width: '800px',\n            } }, h(\"bp-mocked-source-widget\", { componentTag: \"monitor-line-chart\", isEditing: _this.isEditing, config: _this.config, annotations: _this.annotations }))); })), h(\"monitor-webgl-context\", null))));\n    };\n    return TestingGround;\n}());\nTestingGround.style = testingGroundCss;\nexport { TestingGround as testing_ground };\n","// NOTE: `enum`s are held separately from the types which are exported\n// as part of the package, since `enum`'s cannot be present in a type declaration file.\n// THis is due to an `enum` being a type plus an implementation, while type declaration\n// files can only contain typing information.\n/**\n * Maps the view model to d3 axis types. In the future we could add additional\n * custom scale types beyond what's available in `d3-axis`.\n */\nvar ScaleType;\n(function (ScaleType) {\n    ScaleType[\"TimeSeries\"] = \"time-series\";\n    ScaleType[\"Log\"] = \"log\";\n    ScaleType[\"Linear\"] = \"linear\";\n})(ScaleType || (ScaleType = {}));\nvar LEGEND_POSITION;\n(function (LEGEND_POSITION) {\n    LEGEND_POSITION[\"RIGHT\"] = \"RIGHT\";\n    LEGEND_POSITION[\"BOTTOM\"] = \"BOTTOM\";\n})(LEGEND_POSITION || (LEGEND_POSITION = {}));\nexport { LEGEND_POSITION as L, ScaleType as S };\n","var SECOND_IN_MS = 1000;\nvar MINUTE_IN_MS = 60 * SECOND_IN_MS;\nvar HOUR_IN_MS = 60 * MINUTE_IN_MS;\nvar DAY_IN_MS = 24 * HOUR_IN_MS;\n// Not precisely accurate, only estimates. exact duration depends on start date. use with care.\nvar MONTH_IN_MS = 30 * DAY_IN_MS;\nvar YEAR_IN_MS = 12 * MONTH_IN_MS;\n/**\n * ConvertMS is a helper function that will take in milliseconds and convert it to the highest detonator\n * and does not return the \"remainder\"\n *\n * It is important to note that the object returning does not represent equivalence!\n *\n * For Example:\n * convert(MINUTE_IN_MS) will return:\n * {\n *   day: 0,\n *   hour: 0\n *   minute: 1,\n *   seconds: 0,\n * }\n *\n * IT DOES NOT RETURN:\n *\n * {\n *   day: 0,\n *   hour: 0,\n *   minute: 1,\n *   seconds: 60, <--- does not return the \"equivalence\"\n * }\n */\nvar convertMS = function (milliseconds) {\n    if (milliseconds < 0) {\n        throw new Error('Time cannot be negative!');\n    }\n    var seconds = Math.floor(milliseconds / 1000);\n    var minute = Math.floor(seconds / 60);\n    var hour = Math.floor(minute / 60);\n    var day = Math.floor(hour / 24);\n    seconds %= 60;\n    minute %= 60;\n    hour %= 24;\n    return {\n        day: day,\n        hour: hour,\n        minute: minute,\n        seconds: seconds,\n    };\n};\nvar displayDate = function (date, resolution, _a) {\n    var start = _a.start, end = _a.end;\n    if (resolution < DAY_IN_MS) {\n        var viewPortDurationMS = end.getTime() - start.getTime();\n        if (viewPortDurationMS < MINUTE_IN_MS) {\n            return date.toLocaleString('en-US', {\n                minute: 'numeric',\n                second: 'numeric',\n            });\n        }\n        if (viewPortDurationMS < 10 * MINUTE_IN_MS) {\n            return date.toLocaleString('en-US', {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                hour12: true,\n            });\n        }\n        return date.toLocaleString('en-US', {\n            hour: 'numeric',\n            minute: 'numeric',\n            hour12: true,\n        });\n    }\n    if (resolution <= HOUR_IN_MS) {\n        return date.toLocaleString('en-US', {\n            hour: 'numeric',\n            day: 'long',\n            hour12: true,\n        });\n    }\n    if (resolution <= DAY_IN_MS) {\n        return date.toLocaleString('en-US', {\n            day: 'numeric',\n            month: 'long',\n        });\n    }\n    return date.toLocaleString('en-US', {\n        year: 'numeric',\n        month: 'long',\n    });\n};\nexport { DAY_IN_MS as D, HOUR_IN_MS as H, MINUTE_IN_MS as M, SECOND_IN_MS as S, YEAR_IN_MS as Y, MONTH_IN_MS as a, convertMS as c, displayDate as d };\n","import { S as ScaleType, L as LEGEND_POSITION } from './constants-2dc21ff9.js';\nvar DEFAULT_CHART_CONFIG = {\n    id: 'fake-id',\n    viewPort: {\n        start: new Date(1995, 0, 0, 0),\n        end: new Date(2020, 1, 0, 0),\n        yMin: 0,\n        yMax: 10000,\n    },\n    // width is width - marginLeft - marginRight\n    size: { width: 400 + 50 + 25, height: 350, marginLeft: 50, marginRight: 50, marginTop: 8, marginBottom: 30 },\n    movement: {\n        enableXScroll: true,\n        enableYScroll: false,\n        zoomMax: Infinity,\n        zoomMin: 0.00001,\n    },\n    layout: {\n        xGridVisible: false,\n        yGridVisible: true,\n        xTicksVisible: true,\n        yTicksVisible: true,\n    },\n    scale: {\n        xScaleType: ScaleType.TimeSeries,\n        yScaleType: ScaleType.Linear,\n        xScaleSide: 'bottom',\n        yScaleSide: 'left',\n    },\n    dataStreamInfo: [],\n    legend: {\n        position: LEGEND_POSITION.BOTTOM,\n        width: 180,\n    },\n};\nexport { DEFAULT_CHART_CONFIG as D };\n","var _a;\nvar SEQUENTIAL_BLUES_MUTED = [\n    ['#5e87b5'],\n    ['#5e87b5', '#b8c6df'],\n    ['#5e87b5', '#9cb1d2', '#d4dced'],\n    ['#5e87b5', '#88a2c8', '#aebfda', '#d4dced'],\n    ['#5e87b5', '#7e9bc3', '#9cb1d2', '#b8c6df', '#d4dced'],\n    ['#5e87b5', '#769dd2', '#96b2dd', '#b4c7e9', '#d4dced', '#eff2fb'],\n];\nvar SEQUENTIAL_QUALITATIVE_MUTED = [\n    ['#5e87b5'],\n    ['#5e87b5', '#e6ac8c'],\n    ['#5e87b5', '#e6ac8c', '#7fc6b1'],\n    ['#5e87b5', '#e6ac8c', '#7fc6b1', '#d99090'],\n    ['#5e87b5', '#e6ac8c', '#7fc6b1', '#d99090', '#ae779c'],\n    ['#5e87b5', '#e6ac8c', '#7fc6b1', '#d99090', '#ae779c', '#f9da95'],\n];\nvar PalletScheme;\n(function (PalletScheme) {\n    PalletScheme[\"BLUE_MUTED\"] = \"blue-MUTED\";\n    PalletScheme[\"QUALITATIVE_MUTED\"] = \"qualitative-muted\";\n})(PalletScheme || (PalletScheme = {}));\nvar PALLET_MAP = (_a = {},\n    _a[PalletScheme.BLUE_MUTED] = SEQUENTIAL_BLUES_MUTED,\n    _a[PalletScheme.QUALITATIVE_MUTED] = SEQUENTIAL_QUALITATIVE_MUTED,\n    _a);\nvar getPalette = function (pallet, numColors) {\n    var palletSchemes = PALLET_MAP[pallet];\n    var colors = palletSchemes[numColors - 1];\n    if (colors == null) {\n        throw new Error('Cannot add more than 6 data streams');\n    }\n    return colors;\n};\nexport { PalletScheme as P, getPalette as g };\n","var COMPARISON_OPERATOR;\n(function (COMPARISON_OPERATOR) {\n    COMPARISON_OPERATOR[\"LESS_THAN\"] = \"LT\";\n    COMPARISON_OPERATOR[\"GREATER_THAN\"] = \"GT\";\n    COMPARISON_OPERATOR[\"LESS_THAN_EQUAL\"] = \"LTE\";\n    COMPARISON_OPERATOR[\"GREATER_THAN_EQUAL\"] = \"GTE\";\n})(COMPARISON_OPERATOR || (COMPARISON_OPERATOR = {}));\nexport { COMPARISON_OPERATOR as C };\n","import { g as getPalette, P as PalletScheme } from './palettes-cbce0fc6.js';\nimport { D as DEFAULT_CHART_CONFIG } from './chartDefaults-5713566e.js';\nvar pallet = getPalette(PalletScheme.QUALITATIVE_MUTED, 5);\nvar infos = [\n    {\n        id: 'some-id',\n        name: 'high',\n        detailedName: '/amazon/stocks/high',\n        color: pallet[0],\n        unit: 'USD',\n    },\n];\n// DO NOT USE THIS IN UNIT TESTS. FOR TESTING GROUND ONLY!\n// NOTE: Need to iterate on the typing for charts so that a chart config externally doesn't require\n//  a viewport y range, but internally it does.\n// @ts-ignore\nvar TESTING_GROUND_CHART_CONFIG = {\n    id: 'fake-id',\n    legend: DEFAULT_CHART_CONFIG.legend,\n    viewPort: {\n        start: new Date(1998, 0, 0),\n        end: new Date(2000, 0, 1),\n    },\n    dataStreamInfo: infos,\n};\nexport { TESTING_GROUND_CHART_CONFIG as T };\n"],"sourceRoot":""}