(this["webpackJsonpmonitor-components-doc-site"]=this["webpackJsonpmonitor-components-doc-site"]||[]).push([[21],{108:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r}));var n=i(98),r=Object(n.b)((function(t){return t.x})),o=function(t,e,i){var n=e.start,o=e.end;if(void 0===i&&(i=!0),0===t.length)return[];if(n>t[t.length-1].x)return[];if(o<t[0].x)return[];var a=Math.max(r.left(t,n)-(i?1:0),0),s=Math.min(r.right(t,o)-(i?0:1),t.length-1);return t.slice(a,s+1)}},112:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(t){var e=t.toString(),i=e.split("."),n=i[0],r=i[1];return 0===t?0:null==r?t:n.length>=3?Number(r[0])>4?Number(n)+1:Number(n):Number(Number.parseFloat(e).toPrecision(3))}},40:function(t,e,i){"use strict";i.r(e),i.d(e,"monitor_kpi_base",(function(){return u}));var n,r=i(2),o=(i(94),i(95),i(92)),a=(i(100),i(98),i(101),i(108)),s=i(112),l=function(){return Object(r.h)("svg",{viewBox:"0 0 24 24"},Object(r.h)("path",{d:"M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"}))};!function(t){t.Down="Down",t.Flat="Flat",t.None="None",t.Up="Up"}(n||(n={}));var c=function(t){var e,i,o=t.previousPoint.y,a=t.latestPoint.y,s=t.miniVersion,c=(i=o,null==(e=a)||null==i?n.None:e===i?n.Flat:e>i?n.Up:n.Down),d={trend:!0,down:c===n.Down,flat:c===n.Flat,up:c===n.Up};return Object(r.h)("div",{class:d},Object(r.h)("div",{class:"data"},Object(r.h)("div",{class:"direction"},Object(r.h)(l,null)),Object(r.h)("div",{"data-testid":"previous-value",class:"value"},"number"===typeof o&&"number"===typeof a?function(t,e){var i=(100*(e/t-1)).toFixed(1);return(parseFloat(i)>0?i:-1*parseFloat(i))+"%"}(o,a):o)),!s&&Object(r.h)("div",{class:"descriptor"},"from previous value"))},d=function(t,e){var i=e.start,n=e.end;return t.x>=i&&t.x<=n},u=function(){function t(t){var e=this;Object(r.i)(this,t),this.isEditing=!1,this.isLoading=!1,this.isFetching=!1,this.errorMap={},this.getValues=function(t){if(!t||!t.data.length)return e.setLatestPoint(void 0),{latestPoint:void 0,previousPoint:void 0};var i=a.b.left(t.data,e.viewPort.end),n=t.data[i-1],r=t.data[i-2];return e.setLatestPoint(n&&d(n,e.viewPort)?n:void 0),{latestPoint:n&&d(n,e.viewPort)?n:void 0,previousPoint:r&&d(r,e.viewPort)?r:void 0}},this.updateName=function(t){e.onChangeLabel({streamId:e.streamInfo.id,name:t})},this.getFontColor=function(t){if(null==t)return"#000";var i=Object(o.m)(t.y,e.thresholds);return i?i.color:"#000"}}return t.prototype.getFontSize=function(){return this.height<280||this.width<600?"3rem":"4.5rem"},t.prototype.render=function(){var t=this.data,e=t&&null!=this.errorMap[t.id],i=this.getValues(t),n=i.latestPoint,o=i.previousPoint,a=this.streamInfo.unit,l=null!=t&&t.data.length>0;return Object(r.h)("div",{class:{main:!0,"is-editing":this.isEditing}},Object(r.h)("div",{class:"indicator"},e&&Object(r.h)("bp-error-badge",{"data-testid":"warning"},"Stopped"),Object(r.h)("monitor-data-stream-name",{class:"kpi-title",onNameChange:this.updateName,dataStreamInfo:this.streamInfo,activePoint:this.activePoint,isEditing:this.isEditing}),Object(r.h)("div",{class:"loading-wrapper"},this.isLoading&&!l?Object(r.h)("bp-loading-spinner",{"data-testid":"loading",style:{height:this.getFontSize(),width:this.getFontSize()}}):Object(r.h)("div",{"data-testid":"current-value",class:"value",style:{fontSize:this.getFontSize(),color:this.getFontColor(n)}},n&&!Number.isNaN(n.y)?[Object(s.a)(n.y),Object(r.h)("span",{class:"unit"},a)]:"--")),o&&n&&Object(r.h)(c,{previousPoint:o,latestPoint:n,miniVersion:this.miniVersion})))},t}();u.style="@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}*{-webkit-box-sizing:border-box;box-sizing:border-box}.main{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:relative;width:100%;height:100%;font-family:var(--primary-font-family)}.indicator{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:relative;padding-top:10px}.kpi-title{display:block;margin-bottom:10px;width:100%;text-align:center;padding:0 5px 0 5px}.value{position:relative;font-variant-numeric:tabular-nums;font-weight:400;color:var(--value-component-font-color-primary)}.unit{font-size:1.4rem;color:var(--error-badge-font-color);font-weight:var(--font-weight-light);margin-left:5px;padding-top:20px}.trend{margin-top:10px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;position:relative;-webkit-transition:opacity 250ms ease-out;transition:opacity 250ms ease-out}.trend>.data{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:relative;width:auto;height:1.5625rem;color:#4263a6;font-weight:400}.trend>.data>.direction{position:relative;width:1.5rem;height:1.5rem;margin-right:0.3125rem;-webkit-transform:rotate(0);transform:rotate(0);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:-webkit-transform 250ms ease-out;transition:-webkit-transform 250ms ease-out;transition:transform 250ms ease-out;transition:transform 250ms ease-out, -webkit-transform 250ms ease-out}.trend>.data>.direction svg{position:absolute;width:100%;height:100%}.trend>.data>.direction svg>path{fill:var(--visualization-sequential-blues-normal-1-0)}.trend.down>.data>.direction{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.trend.up>.data>.direction{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.trend>.data>.value{position:relative;font-size:2rem;font-weight:400;line-height:1;color:var(--visualization-sequential-blues-normal-1-0);font-variant-numeric:tabular-nums;text-align:center}.trend>.descriptor{position:relative;font-size:1.4rem;font-weight:400;line-height:2rem;color:var(--value-component-font-color-tertiary);text-align:center}.loading-wrapper{height:35px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}bp-loading-spinner{display:inline-block;-webkit-transform:scale(0.75);transform:scale(0.75)}bp-error-badge{font-size:1.2rem}"}}]);
//# sourceMappingURL=stencil-monitor-kpi-base-entry-js.fec5bcd3.chunk.js.map