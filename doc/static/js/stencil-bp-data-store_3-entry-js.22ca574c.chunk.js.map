{"version":3,"sources":["../node_modules/webpack/buildin/harmony-module.js","../node_modules/@amzn/bp-components/dist/esm-es5/bp-data-store_3.entry.js"],"names":["module","exports","originalModule","webpackPolyfill","Object","create","children","defineProperty","enumerable","get","l","i","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","__spreadArrays","s","il","arguments","r","Array","k","a","j","jl","root","observable","symbolObservablePonyfill","self","window","global","randomString","Math","random","toString","substring","split","join","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","Error","undefined","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","getState","subscribe","listener","isSubscribed","index","indexOf","splice","dispatch","action","type","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","unsubscribe","_defineProperty","key","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","target","source","forEach","getOwnPropertyDescriptors","defineProperties","compose","_len","funcs","_key","arg","reduce","b","createThunkMiddleware","extraArgument","thunk","withExtraArgument","chronologicalSort","r1","r2","start","getTime","dataReducer","state","_a","_b","_c","_d","_e","_f","existingHistory","newRequest","REQUEST","_g","payload","id","resolution","first","last","dataCache","streamStore","getDataStreamStore","EMPTY_CACHE","requestCache","existingRequestHistory","requestHistory","assign","end","requestedAt","Date","now","map","existingRequest","mergeHistoricalRequest","flat","sort","addToDataPointCache","cache","isLoading","error","SUCCESS","_h","data","updatedDataCache","ERROR","_j","configureStore","initialState","middlewares","store","_dispatch","middlewareAPI","chain","middleware","applyMiddleware","BpDataStore","class_1","hostRef","registerInstance","getContext","prototype","componentWillLoad","setStore","render","h","LATENCY_MS","SECOND_IN_MS","truncateDate","num","floor","DAY_IN_MS","request","onError","onSuccess","dataStreamId","setTimeout","stream","x","duration","streamId","xMs","sin","pow","getRandomData","createOnRequestData","BpMockedSourceWidget","_this","renderFunc","componentTag","onRequestData","isEditing","config","annotations","MonitorDynamicWidget","readOnly","isFetching","errorMap"],"mappings":"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","file":"static/js/stencil-bp-data-store_3-entry-js.22ca574c.chunk.js","sourcesContent":["module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { r as registerInstance, c as getContext, h } from './index-326b73e4.js';\nimport { S as SECOND_IN_MS, D as DAY_IN_MS } from './time-cc688558.js';\nimport { E as ERROR, a as EMPTY_CACHE, S as SUCCESS, b as addToDataPointCache, R as REQUEST, g as getDataStreamStore } from './dataActions-86811a77.js';\nfunction symbolObservablePonyfill(root) {\n    var result;\n    var Symbol = root.Symbol;\n    if (typeof Symbol === 'function') {\n        if (Symbol.observable) {\n            result = Symbol.observable;\n        }\n        else {\n            result = Symbol('observable');\n            Symbol.observable = result;\n        }\n    }\n    else {\n        result = '@@observable';\n    }\n    return result;\n}\n/* global window */\nvar root;\nif (typeof self !== 'undefined') {\n    root = self;\n}\nelse if (typeof window !== 'undefined') {\n    root = window;\n}\nelse if (typeof global !== 'undefined') {\n    root = global;\n}\nelse if (typeof module !== 'undefined') {\n    root = module;\n}\nelse {\n    root = Function('return this')();\n}\nvar result = symbolObservablePonyfill(root);\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n    return Math.random().toString(36).substring(7).split('').join('.');\n};\nvar ActionTypes = {\n    INIT: \"@@redux/INIT\" + randomString(),\n    REPLACE: \"@@redux/REPLACE\" + randomString(),\n    PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n        return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n    }\n};\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n    if (typeof obj !== 'object' || obj === null)\n        return false;\n    var proto = obj;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(obj) === proto;\n}\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\nfunction createStore(reducer, preloadedState, enhancer) {\n    var _ref2;\n    if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n        throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n    }\n    if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n        enhancer = preloadedState;\n        preloadedState = undefined;\n    }\n    if (typeof enhancer !== 'undefined') {\n        if (typeof enhancer !== 'function') {\n            throw new Error('Expected the enhancer to be a function.');\n        }\n        return enhancer(createStore)(reducer, preloadedState);\n    }\n    if (typeof reducer !== 'function') {\n        throw new Error('Expected the reducer to be a function.');\n    }\n    var currentReducer = reducer;\n    var currentState = preloadedState;\n    var currentListeners = [];\n    var nextListeners = currentListeners;\n    var isDispatching = false;\n    /**\n     * This makes a shallow copy of currentListeners so we can use\n     * nextListeners as a temporary list while dispatching.\n     *\n     * This prevents any bugs around consumers calling\n     * subscribe/unsubscribe in the middle of a dispatch.\n     */\n    function ensureCanMutateNextListeners() {\n        if (nextListeners === currentListeners) {\n            nextListeners = currentListeners.slice();\n        }\n    }\n    /**\n     * Reads the state tree managed by the store.\n     *\n     * @returns {any} The current state tree of your application.\n     */\n    function getState() {\n        if (isDispatching) {\n            throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n        }\n        return currentState;\n    }\n    /**\n     * Adds a change listener. It will be called any time an action is dispatched,\n     * and some part of the state tree may potentially have changed. You may then\n     * call `getState()` to read the current state tree inside the callback.\n     *\n     * You may call `dispatch()` from a change listener, with the following\n     * caveats:\n     *\n     * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n     * If you subscribe or unsubscribe while the listeners are being invoked, this\n     * will not have any effect on the `dispatch()` that is currently in progress.\n     * However, the next `dispatch()` call, whether nested or not, will use a more\n     * recent snapshot of the subscription list.\n     *\n     * 2. The listener should not expect to see all state changes, as the state\n     * might have been updated multiple times during a nested `dispatch()` before\n     * the listener is called. It is, however, guaranteed that all subscribers\n     * registered before the `dispatch()` started will be called with the latest\n     * state by the time it exits.\n     *\n     * @param {Function} listener A callback to be invoked on every dispatch.\n     * @returns {Function} A function to remove this change listener.\n     */\n    function subscribe(listener) {\n        if (typeof listener !== 'function') {\n            throw new Error('Expected the listener to be a function.');\n        }\n        if (isDispatching) {\n            throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n        }\n        var isSubscribed = true;\n        ensureCanMutateNextListeners();\n        nextListeners.push(listener);\n        return function unsubscribe() {\n            if (!isSubscribed) {\n                return;\n            }\n            if (isDispatching) {\n                throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n            }\n            isSubscribed = false;\n            ensureCanMutateNextListeners();\n            var index = nextListeners.indexOf(listener);\n            nextListeners.splice(index, 1);\n        };\n    }\n    /**\n     * Dispatches an action. It is the only way to trigger a state change.\n     *\n     * The `reducer` function, used to create the store, will be called with the\n     * current state tree and the given `action`. Its return value will\n     * be considered the **next** state of the tree, and the change listeners\n     * will be notified.\n     *\n     * The base implementation only supports plain object actions. If you want to\n     * dispatch a Promise, an Observable, a thunk, or something else, you need to\n     * wrap your store creating function into the corresponding middleware. For\n     * example, see the documentation for the `redux-thunk` package. Even the\n     * middleware will eventually dispatch plain object actions using this method.\n     *\n     * @param {Object} action A plain object representing “what changed”. It is\n     * a good idea to keep actions serializable so you can record and replay user\n     * sessions, or use the time travelling `redux-devtools`. An action must have\n     * a `type` property which may not be `undefined`. It is a good idea to use\n     * string constants for action types.\n     *\n     * @returns {Object} For convenience, the same action object you dispatched.\n     *\n     * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n     * return something else (for example, a Promise you can await).\n     */\n    function dispatch(action) {\n        if (!isPlainObject(action)) {\n            throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n        }\n        if (typeof action.type === 'undefined') {\n            throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n        }\n        if (isDispatching) {\n            throw new Error('Reducers may not dispatch actions.');\n        }\n        try {\n            isDispatching = true;\n            currentState = currentReducer(currentState, action);\n        }\n        finally {\n            isDispatching = false;\n        }\n        var listeners = currentListeners = nextListeners;\n        for (var i = 0; i < listeners.length; i++) {\n            var listener = listeners[i];\n            listener();\n        }\n        return action;\n    }\n    /**\n     * Replaces the reducer currently used by the store to calculate the state.\n     *\n     * You might need this if your app implements code splitting and you want to\n     * load some of the reducers dynamically. You might also need this if you\n     * implement a hot reloading mechanism for Redux.\n     *\n     * @param {Function} nextReducer The reducer for the store to use instead.\n     * @returns {void}\n     */\n    function replaceReducer(nextReducer) {\n        if (typeof nextReducer !== 'function') {\n            throw new Error('Expected the nextReducer to be a function.');\n        }\n        currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n        // Any reducers that existed in both the new and old rootReducer\n        // will receive the previous state. This effectively populates\n        // the new state tree with any relevant data from the old one.\n        dispatch({\n            type: ActionTypes.REPLACE\n        });\n    }\n    /**\n     * Interoperability point for observable/reactive libraries.\n     * @returns {observable} A minimal observable of state changes.\n     * For more information, see the observable proposal:\n     * https://github.com/tc39/proposal-observable\n     */\n    function observable() {\n        var _ref;\n        var outerSubscribe = subscribe;\n        return _ref = {\n            /**\n             * The minimal observable subscription method.\n             * @param {Object} observer Any object that can be used as an observer.\n             * The observer object should have a `next` method.\n             * @returns {subscription} An object with an `unsubscribe` method that can\n             * be used to unsubscribe the observable from the store, and prevent further\n             * emission of values from the observable.\n             */\n            subscribe: function subscribe(observer) {\n                if (typeof observer !== 'object' || observer === null) {\n                    throw new TypeError('Expected the observer to be an object.');\n                }\n                function observeState() {\n                    if (observer.next) {\n                        observer.next(getState());\n                    }\n                }\n                observeState();\n                var unsubscribe = outerSubscribe(observeState);\n                return {\n                    unsubscribe: unsubscribe\n                };\n            }\n        }, _ref[result] = function () {\n            return this;\n        }, _ref;\n    } // When a store is created, an \"INIT\" action is dispatched so that every\n    // reducer returns their initial state. This effectively populates\n    // the initial state tree.\n    dispatch({\n        type: ActionTypes.INIT\n    });\n    return _ref2 = {\n        dispatch: dispatch,\n        subscribe: subscribe,\n        getState: getState,\n        replaceReducer: replaceReducer\n    }, _ref2[result] = observable, _ref2;\n}\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    }\n    else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n    }\n    if (enumerableOnly)\n        keys = keys.filter(function (sym) {\n            return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n    return keys;\n}\nfunction _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys(source, true).forEach(function (key) {\n                _defineProperty(target, key, source[key]);\n            });\n        }\n        else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        }\n        else {\n            ownKeys(source).forEach(function (key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n    for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n        funcs[_key] = arguments[_key];\n    }\n    if (funcs.length === 0) {\n        return function (arg) {\n            return arg;\n        };\n    }\n    if (funcs.length === 1) {\n        return funcs[0];\n    }\n    return funcs.reduce(function (a, b) {\n        return function () {\n            return a(b.apply(void 0, arguments));\n        };\n    });\n}\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nfunction applyMiddleware() {\n    for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n        middlewares[_key] = arguments[_key];\n    }\n    return function (createStore) {\n        return function () {\n            var store = createStore.apply(void 0, arguments);\n            var _dispatch = function dispatch() {\n                throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n            };\n            var middlewareAPI = {\n                getState: store.getState,\n                dispatch: function dispatch() {\n                    return _dispatch.apply(void 0, arguments);\n                }\n            };\n            var chain = middlewares.map(function (middleware) {\n                return middleware(middlewareAPI);\n            });\n            _dispatch = compose.apply(void 0, chain)(store.dispatch);\n            return _objectSpread2({}, store, {\n                dispatch: _dispatch\n            });\n        };\n    };\n}\nfunction createThunkMiddleware(extraArgument) {\n    return function (_ref) {\n        var dispatch = _ref.dispatch, getState = _ref.getState;\n        return function (next) {\n            return function (action) {\n                if (typeof action === 'function') {\n                    return action(dispatch, getState, extraArgument);\n                }\n                return next(action);\n            };\n        };\n    };\n}\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n/**\n * returns the historical requests after merged.\n */\nvar mergeHistoricalRequest = function (newRequest, existingRequest) {\n    if (newRequest.start <= existingRequest.start && newRequest.end >= existingRequest.end) {\n        // new request fully contains existing request.\n        return [];\n    }\n    if (newRequest.start >= existingRequest.start && newRequest.end <= existingRequest.end) {\n        // new request fully contained within existing request\n        return [\n            {\n                start: existingRequest.start,\n                end: newRequest.start,\n                requestedAt: existingRequest.requestedAt,\n            },\n            {\n                start: newRequest.start,\n                end: existingRequest.end,\n                requestedAt: existingRequest.requestedAt,\n            },\n        ];\n    }\n    if (newRequest.start < existingRequest.start && newRequest.end > existingRequest.start) {\n        // new request overlaps on the left side\n        return [\n            {\n                start: newRequest.end,\n                end: existingRequest.end,\n                requestedAt: existingRequest.requestedAt,\n            },\n        ];\n    }\n    if (existingRequest.start < newRequest.start && existingRequest.end > newRequest.start) {\n        // new request overlaps on the right side\n        return [\n            {\n                start: existingRequest.start,\n                end: newRequest.start,\n                requestedAt: existingRequest.requestedAt,\n            },\n        ];\n    }\n    // non-overlapping\n    return [existingRequest];\n};\nvar chronologicalSort = function (r1, r2) { return r2.start.getTime() - r1.start.getTime(); };\n/**\n * Merge Historical Requests\n *\n * Appends a historical request while maintaing the following variants:\n * 1. all historical requests are disjoint, i.e. there are not two historical requests which overlap\n * 2. A new historical request added will always be present unaltered\n */\nvar mergeHistoricalRequests = function (existingHistory, newRequest) { return __spreadArrays([newRequest], existingHistory.map(function (r) { return mergeHistoricalRequest(newRequest, r); }).flat()).sort(chronologicalSort); };\n/**\n * Data Reducer\n *\n * Manages error status, loading status, and indexed data points\n */\nvar dataReducer = function (state, action) {\n    var _a, _b, _c, _d, _e, _f;\n    if (state === void 0) { state = {}; }\n    switch (action.type) {\n        case REQUEST: {\n            var _g = action.payload, id = _g.id, resolution = _g.resolution, first = _g.first, last = _g.last;\n            var streamStore = getDataStreamStore(id, resolution, state);\n            var dataCache = streamStore != null ? streamStore.dataCache : EMPTY_CACHE;\n            var requestCache = streamStore != null ? streamStore.requestCache : EMPTY_CACHE;\n            var existingRequestHistory = streamStore ? streamStore.requestHistory : [];\n            return Object.assign(Object.assign({}, state), (_a = {}, _a[id] = Object.assign(Object.assign({}, state[id]), (_b = {}, _b[resolution] = Object.assign(Object.assign({}, streamStore), { requestHistory: mergeHistoricalRequests(existingRequestHistory, {\n                    start: first,\n                    end: last,\n                    requestedAt: new Date(Date.now()),\n                }), dataCache: dataCache, requestCache: addToDataPointCache({\n                    cache: requestCache,\n                    start: first,\n                    end: last,\n                }), id: id, isLoading: true, error: undefined }), _b)), _a));\n        }\n        case SUCCESS: {\n            var _h = action.payload, id = _h.id, data = _h.data, first = _h.first, last = _h.last;\n            var streamStore = getDataStreamStore(id, data.resolution, state);\n            var updatedDataCache = addToDataPointCache({\n                start: first,\n                end: last,\n                data: data.data,\n                cache: (streamStore && streamStore.dataCache) || EMPTY_CACHE,\n            });\n            return Object.assign(Object.assign({}, state), (_c = {}, _c[id] = Object.assign(Object.assign({}, state[id]), (_d = {}, _d[data.resolution] = Object.assign(Object.assign({}, streamStore), { requestHistory: streamStore ? streamStore.requestHistory : [], id: id, requestCache: (streamStore && streamStore.requestCache) || EMPTY_CACHE, dataCache: updatedDataCache, isLoading: false, error: undefined }), _d)), _c));\n        }\n        case ERROR: {\n            var _j = action.payload, id = _j.id, error = _j.error, resolution = _j.resolution;\n            var streamStore = getDataStreamStore(id, resolution, state);\n            return Object.assign(Object.assign({}, state), (_e = {}, _e[id] = Object.assign(Object.assign({}, state[id]), (_f = {}, _f[resolution] = Object.assign(Object.assign({}, streamStore), { requestHistory: streamStore ? streamStore.requestHistory : [], dataCache: (streamStore && streamStore.dataCache) || EMPTY_CACHE, requestCache: (streamStore && streamStore.requestCache) || EMPTY_CACHE, id: id,\n                error: error, isLoading: false }), _f)), _e));\n        }\n        default: {\n            return state;\n        }\n    }\n};\nvar configureStore = function (initialState) {\n    if (initialState === void 0) { initialState = {}; }\n    return createStore(dataReducer, initialState, applyMiddleware(thunk));\n};\nvar BpDataStore = /** @class */ (function () {\n    function class_1(hostRef) {\n        registerInstance(this, hostRef);\n        this.store = getContext(this, \"store\");\n    }\n    class_1.prototype.componentWillLoad = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.store.setStore(configureStore());\n                return [2 /*return*/];\n            });\n        });\n    };\n    class_1.prototype.render = function () {\n        return h(\"slot\", null);\n    };\n    return class_1;\n}());\nvar LATENCY_MS = SECOND_IN_MS;\nvar getY = function (x, duration) { return Math.sin(x / (duration * 8)) * 5 + Math.pow((Math.random() * 3), 2); };\nvar truncateDate = function (num) { return Math.floor(num / DAY_IN_MS) * DAY_IN_MS; };\nvar getRandomData = function (_a) {\n    var start = _a.start, end = _a.end, streamId = _a.streamId, resolution = _a.resolution;\n    var xMs = truncateDate(start.getTime());\n    var data = [];\n    while (xMs <= end.getTime()) {\n        xMs += resolution;\n        if (Math.random() >= 0.1) {\n            var y = getY(xMs, resolution);\n            data.push({\n                x: new Date(truncateDate(xMs)),\n                y: y,\n            });\n        }\n    }\n    return {\n        id: streamId,\n        resolution: resolution,\n        data: data,\n    };\n};\nvar createOnRequestData = function (_a) {\n    var error = _a.error;\n    return function (_a) {\n        var onError = _a.onError, resolution = _a.resolution, onSuccess = _a.onSuccess, request = _a.request, id = _a.dataStreamId;\n        setTimeout(function () {\n            // Determine the resolution to aggregate the request at\n            if (!error) {\n                var stream = getRandomData({ resolution: resolution, streamId: id, start: request.start, end: request.end });\n                onSuccess(id, stream, request.start, request.end);\n            }\n            else {\n                onError(id, resolution, 'always throw error mode is on! expected error');\n            }\n        }, LATENCY_MS);\n    };\n};\nvar request = createOnRequestData({ error: false });\nvar BpMockedSourceWidget = /** @class */ (function () {\n    function BpMockedSourceWidget(hostRef) {\n        registerInstance(this, hostRef);\n        this.error = false;\n    }\n    BpMockedSourceWidget.prototype.render = function () {\n        var _this = this;\n        return (h(\"monitor-lazily-load\", { renderFunc: function () { return (h(\"monitor-dynamic-widget\", { componentTag: _this.componentTag, resolution: DAY_IN_MS, onRequestData: request, isEditing: _this.isEditing, config: _this.config, annotations: _this.annotations })); } }));\n    };\n    return BpMockedSourceWidget;\n}());\nvar MonitorDynamicWidget = /** @class */ (function () {\n    function MonitorDynamicWidget(hostRef) {\n        registerInstance(this, hostRef);\n        this.readOnly = false;\n    }\n    MonitorDynamicWidget.prototype.render = function () {\n        var _this = this;\n        return (h(\"monitor-lazily-load\", { renderFunc: function () { return (h(\"monitor-data-provider\", { readOnly: _this.readOnly, config: _this.config, onRequestData: _this.onRequestData, resolution: _this.resolution, renderFunc: function (_a) {\n                    var data = _a.data, isLoading = _a.isLoading, isFetching = _a.isFetching, errorMap = _a.errorMap;\n                    return (h(_this.componentTag, { \"data-type\": \"widget\", data: data, isLoading: isLoading, isFetching: isFetching, errorMap: errorMap, config: _this.config, isEditing: _this.isEditing, resolution: _this.resolution, annotations: _this.annotations }));\n                } })); } }));\n    };\n    return MonitorDynamicWidget;\n}());\nexport { BpDataStore as bp_data_store, BpMockedSourceWidget as bp_mocked_source_widget, MonitorDynamicWidget as monitor_dynamic_widget };\n"],"sourceRoot":""}