{"version":3,"sources":["../node_modules/@amzn/bp-components/dist/esm-es5/active-router-fe934466.js","../node_modules/@amzn/bp-components/dist/esm-es5/stencil-router-redirect.entry.js"],"names":["__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","ActiveRouter","defaultState","consumerRender","listeners","Map","currentState","updateListener","fields","instance","isArray","forEach","fieldName","Object","assign","subscribe","propList","has","set","delete","Provider","_a","children","state","Consumer","props","injectProps","Cstr","fieldList","CstrPrototype","prototype","cstrConnectedCallback","connectedCallback","cstrDisconnectedCallback","disconnectedCallback","this","call","createProviderConsumer","historyType","location","pathname","query","key","titleSuffix","root","routeViewsUpdated","child","h","renderer","Redirect","hostRef","registerInstance","componentWillLoad","history","url","replace","charAt","slice","defineProperty","get","getElement","enumerable","configurable"],"mappings":"mJAAA,6CAAIA,EAAkD,WAClD,IAAK,IAAIC,EAAI,EAAGC,EAAI,EAAGC,EAAKC,UAAUC,OAAQH,EAAIC,EAAID,IAAKD,GAAKG,UAAUF,GAAGG,OACxE,IAAIC,EAAIC,MAAMN,GAAIO,EAAI,EAA3B,IAA8BN,EAAI,EAAGA,EAAIC,EAAID,IACzC,IAAK,IAAIO,EAAIL,UAAUF,GAAIQ,EAAI,EAAGC,EAAKF,EAAEJ,OAAQK,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GA6DPM,EA1DyB,SAAUC,EAAcC,GACjD,IAAIC,EAAY,IAAIC,IAChBC,EAAeJ,EACfK,EAAiB,SAAUC,EAAQC,GAC/Bb,MAAMc,QAAQF,GACdnB,EAAemB,GAAQG,SAAQ,SAAUC,GACrCH,EAASG,GAAaN,EAAaM,MAIvCH,EAASD,GAAUK,OAAOC,OAAO,GAAIR,IAGzCS,EAAY,SAAUN,EAAUO,GAKhC,OAJKZ,EAAUa,IAAIR,KACfL,EAAUc,IAAIT,EAAUO,GACxBT,EAAeS,EAAUP,IAEtB,WACCL,EAAUa,IAAIR,IACdL,EAAUe,OAAOV,KAgC7B,MAAO,CACHW,SA7BW,SAAUC,EAAIC,GACzB,IAAIC,EAAQF,EAAGE,MAGf,OAFAjB,EAAeiB,EACfnB,EAAUO,QAAQJ,GACXe,GA0BPE,SAxBW,SAAUC,EAAOH,GAG5B,OAAOnB,EAAeY,EAAWO,EAAS,KAsB1CI,YApBc,SAAUC,EAAMC,GAC9B,IAAIC,EAAgBF,EAAKG,UACrBC,EAAwBF,EAAcG,kBACtCC,EAA2BJ,EAAcK,qBAC7CL,EAAcG,kBAAoB,WAE9B,GADAjB,EAAUoB,KAAMP,GACZG,EACA,OAAOA,EAAsBK,KAAKD,OAG1CN,EAAcK,qBAAuB,WACjC9B,EAAUe,OAAOgB,MACbF,GACAA,EAAyBG,KAAKD,SAU3BE,CAAuB,CACtCC,YAAa,UACbC,SAAU,CACNC,SAAU,GACVC,MAAO,GACPC,IAAK,IAETC,YAAa,GACbC,KAAM,IACNC,kBAAmB,eACpB,SAAU9B,EAAW+B,GAAS,OAAQC,YAAE,mBAAoB,CAAEhC,UAAWA,EAAWiC,SAAUF,Q,gCC5EjG,mFAUIG,EAA0B,WAC1B,SAASA,EAASC,GACdC,YAAiBhB,KAAMe,GAY3B,OAVAD,EAASnB,UAAUsB,kBAAoB,WACnC,GAAIjB,KAAKkB,SAAWlB,KAAKS,MAAQT,KAAKmB,IAClC,OAAOnB,KAAKkB,QAAQE,SAbTD,EAawBnB,KAAKmB,IAbxBV,EAa6BT,KAAKS,KAXrC,KAAjBU,EAAIE,OAAO,IAA6C,KAAhCZ,EAAKY,OAAOZ,EAAKlD,OAAS,GAC3CkD,EAAKa,MAAM,EAAGb,EAAKlD,OAAS,GAAK4D,EAErCV,EAAOU,IALL,IAAUA,EAAKV,GAgBxB/B,OAAO6C,eAAeT,EAASnB,UAAW,KAAM,CAC5C6B,IAAK,WAAc,OAAOC,YAAWzB,OACrC0B,YAAY,EACZC,cAAc,IAEXb,EAdmB,GAgB9BhD,IAAayB,YAAYuB,EAAU,CAC/B,UACA","file":"static/js/stencil-stencil-router-redirect-entry-js.1f90b7e9.chunk.js","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { h } from './index-326b73e4.js';\nvar createProviderConsumer = function (defaultState, consumerRender) {\n    var listeners = new Map();\n    var currentState = defaultState;\n    var updateListener = function (fields, instance) {\n        if (Array.isArray(fields)) {\n            __spreadArrays(fields).forEach(function (fieldName) {\n                instance[fieldName] = currentState[fieldName];\n            });\n        }\n        else {\n            instance[fields] = Object.assign({}, currentState);\n        }\n    };\n    var subscribe = function (instance, propList) {\n        if (!listeners.has(instance)) {\n            listeners.set(instance, propList);\n            updateListener(propList, instance);\n        }\n        return function () {\n            if (listeners.has(instance)) {\n                listeners.delete(instance);\n            }\n        };\n    };\n    var Provider = function (_a, children) {\n        var state = _a.state;\n        currentState = state;\n        listeners.forEach(updateListener);\n        return children;\n    };\n    var Consumer = function (props, children) {\n        // The casting on subscribe is to allow for crossover through the stencil compiler\n        // In the future we should allow for generics in components.\n        return consumerRender(subscribe, children[0]);\n    };\n    var injectProps = function (Cstr, fieldList) {\n        var CstrPrototype = Cstr.prototype;\n        var cstrConnectedCallback = CstrPrototype.connectedCallback;\n        var cstrDisconnectedCallback = CstrPrototype.disconnectedCallback;\n        CstrPrototype.connectedCallback = function () {\n            subscribe(this, fieldList);\n            if (cstrConnectedCallback) {\n                return cstrConnectedCallback.call(this);\n            }\n        };\n        CstrPrototype.disconnectedCallback = function () {\n            listeners.delete(this);\n            if (cstrDisconnectedCallback) {\n                cstrDisconnectedCallback.call(this);\n            }\n        };\n    };\n    return {\n        Provider: Provider,\n        Consumer: Consumer,\n        injectProps: injectProps\n    };\n};\nvar ActiveRouter = createProviderConsumer({\n    historyType: 'browser',\n    location: {\n        pathname: '',\n        query: {},\n        key: ''\n    },\n    titleSuffix: '',\n    root: '/',\n    routeViewsUpdated: function () { }\n}, function (subscribe, child) { return (h(\"context-consumer\", { subscribe: subscribe, renderer: child })); });\nexport { ActiveRouter as A };\n","import { r as registerInstance, g as getElement } from './index-326b73e4.js';\nimport { A as ActiveRouter } from './active-router-fe934466.js';\n// Get the URL for this route link without the root from the router\nvar getUrl = function (url, root) {\n    // Don't allow double slashes\n    if (url.charAt(0) == '/' && root.charAt(root.length - 1) == '/') {\n        return root.slice(0, root.length - 1) + url;\n    }\n    return root + url;\n};\nvar Redirect = /** @class */ (function () {\n    function Redirect(hostRef) {\n        registerInstance(this, hostRef);\n    }\n    Redirect.prototype.componentWillLoad = function () {\n        if (this.history && this.root && this.url) {\n            return this.history.replace(getUrl(this.url, this.root));\n        }\n    };\n    Object.defineProperty(Redirect.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return Redirect;\n}());\nActiveRouter.injectProps(Redirect, [\n    'history',\n    'root'\n]);\nexport { Redirect as stencil_router_redirect };\n"],"sourceRoot":""}